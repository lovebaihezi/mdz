//! Generated CommonMark specification tests
//! This file is auto-generated by scripts/commonmark-test-gen.zig
//! Do not edit manually.

const std = @import("std");
const testing = std.testing;
const Allocator = std.mem.Allocator;
const Parser = @import("mdz.zig").parser.Parser;
const Lexer = @import("mdz.zig").lexer.Lexer;
const Block = @import("mdz.zig").mir.Block;

const page_size = 4096 * 1024;

fn parseMarkdownToHtml(allocator: Allocator, markdown: []const u8) ![]u8 {
    var result = std.ArrayList(u8){};
    const result_writer = result.writer(allocator);

    var parser = Parser.init(allocator);
    var buffer: [page_size]u8 = undefined;
    @memcpy(buffer[0..markdown.len], markdown);
    var lexer = Lexer.init(buffer[0..markdown.len]);

    while (try parser.next(&lexer)) |block| {
        try block.writeHTML(buffer[0..markdown.len], result_writer);
    }

    return result.toOwnedSlice(allocator);
}

fn normalizeHtml(allocator: Allocator, html: []const u8) ![]u8 {
    var result = std.ArrayList(u8){};
    defer result.deinit(allocator);

    for (html) |char| {
        switch (char) {
            '\r' => {}, // Skip \r, normalize to \n only
            else => try result.append(allocator, char),
        }
    }

    return result.toOwnedSlice(allocator);
}

// Example 1 from section "Tabs" (lines 355-360)
test "commonmark_spec_tabs_1" {
    const allocator = testing.allocator;
    const markdown = "\tfoo\tbaz\t\tbim\n";
    const expected_html = "<pre><code>foo\tbaz\t\tbim\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 2 from section "Tabs" (lines 362-367)
test "commonmark_spec_tabs_2" {
    const allocator = testing.allocator;
    const markdown = "  \tfoo\tbaz\t\tbim\n";
    const expected_html = "<pre><code>foo\tbaz\t\tbim\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 3 from section "Tabs" (lines 369-376)
test "commonmark_spec_tabs_3" {
    const allocator = testing.allocator;
    const markdown = "    a\ta\n    ὐ\ta\n";
    const expected_html = "<pre><code>a\ta\nὐ\ta\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 4 from section "Tabs" (lines 382-393)
test "commonmark_spec_tabs_4" {
    const allocator = testing.allocator;
    const markdown = "  - foo\n\n\tbar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<p>bar</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 5 from section "Tabs" (lines 395-407)
test "commonmark_spec_tabs_5" {
    const allocator = testing.allocator;
    const markdown = "- foo\n\n\t\tbar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<pre><code>  bar\n</code></pre>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 6 from section "Tabs" (lines 418-425)
test "commonmark_spec_tabs_6" {
    const allocator = testing.allocator;
    const markdown = ">\t\tfoo\n";
    const expected_html = "<blockquote>\n<pre><code>  foo\n</code></pre>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 7 from section "Tabs" (lines 427-436)
test "commonmark_spec_tabs_7" {
    const allocator = testing.allocator;
    const markdown = "-\t\tfoo\n";
    const expected_html = "<ul>\n<li>\n<pre><code>  foo\n</code></pre>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 8 from section "Tabs" (lines 439-446)
test "commonmark_spec_tabs_8" {
    const allocator = testing.allocator;
    const markdown = "    foo\n\tbar\n";
    const expected_html = "<pre><code>foo\nbar\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 9 from section "Tabs" (lines 448-464)
test "commonmark_spec_tabs_9" {
    const allocator = testing.allocator;
    const markdown = " - foo\n   - bar\n\t - baz\n";
    const expected_html = "<ul>\n<li>foo\n<ul>\n<li>bar\n<ul>\n<li>baz</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 10 from section "Tabs" (lines 466-470)
test "commonmark_spec_tabs_10" {
    const allocator = testing.allocator;
    const markdown = "#\tFoo\n";
    const expected_html = "<h1>Foo</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 11 from section "Tabs" (lines 472-476)
test "commonmark_spec_tabs_11" {
    const allocator = testing.allocator;
    const markdown = "*\t*\t*\t\n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 12 from section "Backslash escapes" (lines 489-493)
test "commonmark_spec_backslash_escapes_12" {
    const allocator = testing.allocator;
    const markdown = "\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\\\\\]\\^\\_\\`\\{\\|\\}\\~\n";
    const expected_html = "<p>!&quot;#$%&amp;'()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 13 from section "Backslash escapes" (lines 499-503)
test "commonmark_spec_backslash_escapes_13" {
    const allocator = testing.allocator;
    const markdown = "\\\t\\A\\a\\ \\3\\φ\\«\n";
    const expected_html = "<p>\\\t\\A\\a\\ \\3\\φ\\«</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 14 from section "Backslash escapes" (lines 509-529)
test "commonmark_spec_backslash_escapes_14" {
    const allocator = testing.allocator;
    const markdown = "\\*not emphasized*\n\\<br/> not a tag\n\\[not a link](/foo)\n\\`not code`\n1\\. not a list\n\\* not a list\n\\# not a heading\n\\[foo]: /url \"not a reference\"\n\\&ouml; not a character entity\n";
    const expected_html = "<p>*not emphasized*\n&lt;br/&gt; not a tag\n[not a link](/foo)\n`not code`\n1. not a list\n* not a list\n# not a heading\n[foo]: /url &quot;not a reference&quot;\n&amp;ouml; not a character entity</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 15 from section "Backslash escapes" (lines 534-538)
test "commonmark_spec_backslash_escapes_15" {
    const allocator = testing.allocator;
    const markdown = "\\\\*emphasis*\n";
    const expected_html = "<p>\\<em>emphasis</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 16 from section "Backslash escapes" (lines 543-549)
test "commonmark_spec_backslash_escapes_16" {
    const allocator = testing.allocator;
    const markdown = "foo\\\nbar\n";
    const expected_html = "<p>foo<br />\nbar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 17 from section "Backslash escapes" (lines 555-559)
test "commonmark_spec_backslash_escapes_17" {
    const allocator = testing.allocator;
    const markdown = "`` \\[\\` ``\n";
    const expected_html = "<p><code>\\[\\`</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 18 from section "Backslash escapes" (lines 562-567)
test "commonmark_spec_backslash_escapes_18" {
    const allocator = testing.allocator;
    const markdown = "    \\[\\]\n";
    const expected_html = "<pre><code>\\[\\]\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 19 from section "Backslash escapes" (lines 570-577)
test "commonmark_spec_backslash_escapes_19" {
    const allocator = testing.allocator;
    const markdown = "~~~\n\\[\\]\n~~~\n";
    const expected_html = "<pre><code>\\[\\]\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 20 from section "Backslash escapes" (lines 580-584)
test "commonmark_spec_backslash_escapes_20" {
    const allocator = testing.allocator;
    const markdown = "<https://example.com?find=\\*>\n";
    const expected_html = "<p><a href=\"https://example.com?find=%5C*\">https://example.com?find=\\*</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 21 from section "Backslash escapes" (lines 587-591)
test "commonmark_spec_backslash_escapes_21" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"/bar\\/)\">\n";
    const expected_html = "<a href=\"/bar\\/)\">\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 22 from section "Backslash escapes" (lines 597-601)
test "commonmark_spec_backslash_escapes_22" {
    const allocator = testing.allocator;
    const markdown = "[foo](/bar\\* \"ti\\*tle\")\n";
    const expected_html = "<p><a href=\"/bar*\" title=\"ti*tle\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 23 from section "Backslash escapes" (lines 604-610)
test "commonmark_spec_backslash_escapes_23" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n[foo]: /bar\\* \"ti\\*tle\"\n";
    const expected_html = "<p><a href=\"/bar*\" title=\"ti*tle\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 24 from section "Backslash escapes" (lines 613-620)
test "commonmark_spec_backslash_escapes_24" {
    const allocator = testing.allocator;
    const markdown = "``` foo\\+bar\nfoo\n```\n";
    const expected_html = "<pre><code class=\"language-foo+bar\">foo\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 25 from section "Entity and numeric character references" (lines 649-657)
test "commonmark_spec_entity_and_numeric_character_references_25" {
    const allocator = testing.allocator;
    const markdown = "&nbsp; &amp; &copy; &AElig; &Dcaron;\n&frac34; &HilbertSpace; &DifferentialD;\n&ClockwiseContourIntegral; &ngE;\n";
    const expected_html = "<p>  &amp; © Æ Ď\n¾ ℋ ⅆ\n∲ ≧̸</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 26 from section "Entity and numeric character references" (lines 668-672)
test "commonmark_spec_entity_and_numeric_character_references_26" {
    const allocator = testing.allocator;
    const markdown = "&#35; &#1234; &#992; &#0;\n";
    const expected_html = "<p># Ӓ Ϡ �</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 27 from section "Entity and numeric character references" (lines 681-685)
test "commonmark_spec_entity_and_numeric_character_references_27" {
    const allocator = testing.allocator;
    const markdown = "&#X22; &#XD06; &#xcab;\n";
    const expected_html = "<p>&quot; ആ ಫ</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 28 from section "Entity and numeric character references" (lines 690-700)
test "commonmark_spec_entity_and_numeric_character_references_28" {
    const allocator = testing.allocator;
    const markdown = "&nbsp &x; &#; &#x;\n&#87654321;\n&#abcdef0;\n&ThisIsNotDefined; &hi?;\n";
    const expected_html = "<p>&amp;nbsp &amp;x; &amp;#; &amp;#x;\n&amp;#87654321;\n&amp;#abcdef0;\n&amp;ThisIsNotDefined; &amp;hi?;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 29 from section "Entity and numeric character references" (lines 707-711)
test "commonmark_spec_entity_and_numeric_character_references_29" {
    const allocator = testing.allocator;
    const markdown = "&copy\n";
    const expected_html = "<p>&amp;copy</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 30 from section "Entity and numeric character references" (lines 717-721)
test "commonmark_spec_entity_and_numeric_character_references_30" {
    const allocator = testing.allocator;
    const markdown = "&MadeUpEntity;\n";
    const expected_html = "<p>&amp;MadeUpEntity;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 31 from section "Entity and numeric character references" (lines 728-732)
test "commonmark_spec_entity_and_numeric_character_references_31" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"&ouml;&ouml;.html\">\n";
    const expected_html = "<a href=\"&ouml;&ouml;.html\">\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 32 from section "Entity and numeric character references" (lines 735-739)
test "commonmark_spec_entity_and_numeric_character_references_32" {
    const allocator = testing.allocator;
    const markdown = "[foo](/f&ouml;&ouml; \"f&ouml;&ouml;\")\n";
    const expected_html = "<p><a href=\"/f%C3%B6%C3%B6\" title=\"föö\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 33 from section "Entity and numeric character references" (lines 742-748)
test "commonmark_spec_entity_and_numeric_character_references_33" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n[foo]: /f&ouml;&ouml; \"f&ouml;&ouml;\"\n";
    const expected_html = "<p><a href=\"/f%C3%B6%C3%B6\" title=\"föö\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 34 from section "Entity and numeric character references" (lines 751-758)
test "commonmark_spec_entity_and_numeric_character_references_34" {
    const allocator = testing.allocator;
    const markdown = "``` f&ouml;&ouml;\nfoo\n```\n";
    const expected_html = "<pre><code class=\"language-föö\">foo\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 35 from section "Entity and numeric character references" (lines 764-768)
test "commonmark_spec_entity_and_numeric_character_references_35" {
    const allocator = testing.allocator;
    const markdown = "`f&ouml;&ouml;`\n";
    const expected_html = "<p><code>f&amp;ouml;&amp;ouml;</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 36 from section "Entity and numeric character references" (lines 771-776)
test "commonmark_spec_entity_and_numeric_character_references_36" {
    const allocator = testing.allocator;
    const markdown = "    f&ouml;f&ouml;\n";
    const expected_html = "<pre><code>f&amp;ouml;f&amp;ouml;\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 37 from section "Entity and numeric character references" (lines 783-789)
test "commonmark_spec_entity_and_numeric_character_references_37" {
    const allocator = testing.allocator;
    const markdown = "&#42;foo&#42;\n*foo*\n";
    const expected_html = "<p>*foo*\n<em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 38 from section "Entity and numeric character references" (lines 791-800)
test "commonmark_spec_entity_and_numeric_character_references_38" {
    const allocator = testing.allocator;
    const markdown = "&#42; foo\n\n* foo\n";
    const expected_html = "<p>* foo</p>\n<ul>\n<li>foo</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 39 from section "Entity and numeric character references" (lines 802-808)
test "commonmark_spec_entity_and_numeric_character_references_39" {
    const allocator = testing.allocator;
    const markdown = "foo&#10;&#10;bar\n";
    const expected_html = "<p>foo\n\nbar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 40 from section "Entity and numeric character references" (lines 810-814)
test "commonmark_spec_entity_and_numeric_character_references_40" {
    const allocator = testing.allocator;
    const markdown = "&#9;foo\n";
    const expected_html = "<p>\tfoo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 41 from section "Entity and numeric character references" (lines 817-821)
test "commonmark_spec_entity_and_numeric_character_references_41" {
    const allocator = testing.allocator;
    const markdown = "[a](url &quot;tit&quot;)\n";
    const expected_html = "<p>[a](url &quot;tit&quot;)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 42 from section "Precedence" (lines 840-848)
test "commonmark_spec_precedence_42" {
    const allocator = testing.allocator;
    const markdown = "- `one\n- two`\n";
    const expected_html = "<ul>\n<li>`one</li>\n<li>two`</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 43 from section "Thematic breaks" (lines 879-887)
test "commonmark_spec_thematic_breaks_43" {
    const allocator = testing.allocator;
    const markdown = "***\n---\n___\n";
    const expected_html = "<hr />\n<hr />\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 44 from section "Thematic breaks" (lines 892-896)
test "commonmark_spec_thematic_breaks_44" {
    const allocator = testing.allocator;
    const markdown = "+++\n";
    const expected_html = "<p>+++</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 45 from section "Thematic breaks" (lines 899-903)
test "commonmark_spec_thematic_breaks_45" {
    const allocator = testing.allocator;
    const markdown = "===\n";
    const expected_html = "<p>===</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 46 from section "Thematic breaks" (lines 908-916)
test "commonmark_spec_thematic_breaks_46" {
    const allocator = testing.allocator;
    const markdown = "--\n**\n__\n";
    const expected_html = "<p>--\n**\n__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 47 from section "Thematic breaks" (lines 921-929)
test "commonmark_spec_thematic_breaks_47" {
    const allocator = testing.allocator;
    const markdown = " ***\n  ***\n   ***\n";
    const expected_html = "<hr />\n<hr />\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 48 from section "Thematic breaks" (lines 934-939)
test "commonmark_spec_thematic_breaks_48" {
    const allocator = testing.allocator;
    const markdown = "    ***\n";
    const expected_html = "<pre><code>***\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 49 from section "Thematic breaks" (lines 942-948)
test "commonmark_spec_thematic_breaks_49" {
    const allocator = testing.allocator;
    const markdown = "Foo\n    ***\n";
    const expected_html = "<p>Foo\n***</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 50 from section "Thematic breaks" (lines 953-957)
test "commonmark_spec_thematic_breaks_50" {
    const allocator = testing.allocator;
    const markdown = "_____________________________________\n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 51 from section "Thematic breaks" (lines 962-966)
test "commonmark_spec_thematic_breaks_51" {
    const allocator = testing.allocator;
    const markdown = " - - -\n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 52 from section "Thematic breaks" (lines 969-973)
test "commonmark_spec_thematic_breaks_52" {
    const allocator = testing.allocator;
    const markdown = " **  * ** * ** * **\n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 53 from section "Thematic breaks" (lines 976-980)
test "commonmark_spec_thematic_breaks_53" {
    const allocator = testing.allocator;
    const markdown = "-     -      -      -\n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 54 from section "Thematic breaks" (lines 985-989)
test "commonmark_spec_thematic_breaks_54" {
    const allocator = testing.allocator;
    const markdown = "- - - -    \n";
    const expected_html = "<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 55 from section "Thematic breaks" (lines 994-1004)
test "commonmark_spec_thematic_breaks_55" {
    const allocator = testing.allocator;
    const markdown = "_ _ _ _ a\n\na------\n\n---a---\n";
    const expected_html = "<p>_ _ _ _ a</p>\n<p>a------</p>\n<p>---a---</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 56 from section "Thematic breaks" (lines 1010-1014)
test "commonmark_spec_thematic_breaks_56" {
    const allocator = testing.allocator;
    const markdown = " *-*\n";
    const expected_html = "<p><em>-</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 57 from section "Thematic breaks" (lines 1019-1031)
test "commonmark_spec_thematic_breaks_57" {
    const allocator = testing.allocator;
    const markdown = "- foo\n***\n- bar\n";
    const expected_html = "<ul>\n<li>foo</li>\n</ul>\n<hr />\n<ul>\n<li>bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 58 from section "Thematic breaks" (lines 1036-1044)
test "commonmark_spec_thematic_breaks_58" {
    const allocator = testing.allocator;
    const markdown = "Foo\n***\nbar\n";
    const expected_html = "<p>Foo</p>\n<hr />\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 59 from section "Thematic breaks" (lines 1053-1060)
test "commonmark_spec_thematic_breaks_59" {
    const allocator = testing.allocator;
    const markdown = "Foo\n---\nbar\n";
    const expected_html = "<h2>Foo</h2>\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 60 from section "Thematic breaks" (lines 1066-1078)
test "commonmark_spec_thematic_breaks_60" {
    const allocator = testing.allocator;
    const markdown = "* Foo\n* * *\n* Bar\n";
    const expected_html = "<ul>\n<li>Foo</li>\n</ul>\n<hr />\n<ul>\n<li>Bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 61 from section "Thematic breaks" (lines 1083-1093)
test "commonmark_spec_thematic_breaks_61" {
    const allocator = testing.allocator;
    const markdown = "- Foo\n- * * *\n";
    const expected_html = "<ul>\n<li>Foo</li>\n<li>\n<hr />\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 62 from section "ATX headings" (lines 1112-1126)
test "commonmark_spec_atx_headings_62" {
    const allocator = testing.allocator;
    const markdown = "# foo\n## foo\n### foo\n#### foo\n##### foo\n###### foo\n";
    const expected_html = "<h1>foo</h1>\n<h2>foo</h2>\n<h3>foo</h3>\n<h4>foo</h4>\n<h5>foo</h5>\n<h6>foo</h6>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 63 from section "ATX headings" (lines 1131-1135)
test "commonmark_spec_atx_headings_63" {
    const allocator = testing.allocator;
    const markdown = "####### foo\n";
    const expected_html = "<p>####### foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 64 from section "ATX headings" (lines 1146-1153)
test "commonmark_spec_atx_headings_64" {
    const allocator = testing.allocator;
    const markdown = "#5 bolt\n\n#hashtag\n";
    const expected_html = "<p>#5 bolt</p>\n<p>#hashtag</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 65 from section "ATX headings" (lines 1158-1162)
test "commonmark_spec_atx_headings_65" {
    const allocator = testing.allocator;
    const markdown = "\\## foo\n";
    const expected_html = "<p>## foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 66 from section "ATX headings" (lines 1167-1171)
test "commonmark_spec_atx_headings_66" {
    const allocator = testing.allocator;
    const markdown = "# foo *bar* \\*baz\\*\n";
    const expected_html = "<h1>foo <em>bar</em> *baz*</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 67 from section "ATX headings" (lines 1176-1180)
test "commonmark_spec_atx_headings_67" {
    const allocator = testing.allocator;
    const markdown = "#                  foo                     \n";
    const expected_html = "<h1>foo</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 68 from section "ATX headings" (lines 1185-1193)
test "commonmark_spec_atx_headings_68" {
    const allocator = testing.allocator;
    const markdown = " ### foo\n  ## foo\n   # foo\n";
    const expected_html = "<h3>foo</h3>\n<h2>foo</h2>\n<h1>foo</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 69 from section "ATX headings" (lines 1198-1203)
test "commonmark_spec_atx_headings_69" {
    const allocator = testing.allocator;
    const markdown = "    # foo\n";
    const expected_html = "<pre><code># foo\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 70 from section "ATX headings" (lines 1206-1212)
test "commonmark_spec_atx_headings_70" {
    const allocator = testing.allocator;
    const markdown = "foo\n    # bar\n";
    const expected_html = "<p>foo\n# bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 71 from section "ATX headings" (lines 1217-1223)
test "commonmark_spec_atx_headings_71" {
    const allocator = testing.allocator;
    const markdown = "## foo ##\n  ###   bar    ###\n";
    const expected_html = "<h2>foo</h2>\n<h3>bar</h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 72 from section "ATX headings" (lines 1228-1234)
test "commonmark_spec_atx_headings_72" {
    const allocator = testing.allocator;
    const markdown = "# foo ##################################\n##### foo ##\n";
    const expected_html = "<h1>foo</h1>\n<h5>foo</h5>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 73 from section "ATX headings" (lines 1239-1243)
test "commonmark_spec_atx_headings_73" {
    const allocator = testing.allocator;
    const markdown = "### foo ###     \n";
    const expected_html = "<h3>foo</h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 74 from section "ATX headings" (lines 1250-1254)
test "commonmark_spec_atx_headings_74" {
    const allocator = testing.allocator;
    const markdown = "### foo ### b\n";
    const expected_html = "<h3>foo ### b</h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 75 from section "ATX headings" (lines 1259-1263)
test "commonmark_spec_atx_headings_75" {
    const allocator = testing.allocator;
    const markdown = "# foo#\n";
    const expected_html = "<h1>foo#</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 76 from section "ATX headings" (lines 1269-1277)
test "commonmark_spec_atx_headings_76" {
    const allocator = testing.allocator;
    const markdown = "### foo \\###\n## foo #\\##\n# foo \\#\n";
    const expected_html = "<h3>foo ###</h3>\n<h2>foo ###</h2>\n<h1>foo #</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 77 from section "ATX headings" (lines 1283-1291)
test "commonmark_spec_atx_headings_77" {
    const allocator = testing.allocator;
    const markdown = "****\n## foo\n****\n";
    const expected_html = "<hr />\n<h2>foo</h2>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 78 from section "ATX headings" (lines 1294-1302)
test "commonmark_spec_atx_headings_78" {
    const allocator = testing.allocator;
    const markdown = "Foo bar\n# baz\nBar foo\n";
    const expected_html = "<p>Foo bar</p>\n<h1>baz</h1>\n<p>Bar foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 79 from section "ATX headings" (lines 1307-1315)
test "commonmark_spec_atx_headings_79" {
    const allocator = testing.allocator;
    const markdown = "## \n#\n### ###\n";
    const expected_html = "<h2></h2>\n<h1></h1>\n<h3></h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 80 from section "Setext headings" (lines 1347-1356)
test "commonmark_spec_setext_headings_80" {
    const allocator = testing.allocator;
    const markdown = "Foo *bar*\n=========\n\nFoo *bar*\n---------\n";
    const expected_html = "<h1>Foo <em>bar</em></h1>\n<h2>Foo <em>bar</em></h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 81 from section "Setext headings" (lines 1361-1368)
test "commonmark_spec_setext_headings_81" {
    const allocator = testing.allocator;
    const markdown = "Foo *bar\nbaz*\n====\n";
    const expected_html = "<h1>Foo <em>bar\nbaz</em></h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 82 from section "Setext headings" (lines 1375-1382)
test "commonmark_spec_setext_headings_82" {
    const allocator = testing.allocator;
    const markdown = "  Foo *bar\nbaz*\t\n====\n";
    const expected_html = "<h1>Foo <em>bar\nbaz</em></h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 83 from section "Setext headings" (lines 1387-1396)
test "commonmark_spec_setext_headings_83" {
    const allocator = testing.allocator;
    const markdown = "Foo\n-------------------------\n\nFoo\n=\n";
    const expected_html = "<h2>Foo</h2>\n<h1>Foo</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 84 from section "Setext headings" (lines 1402-1415)
test "commonmark_spec_setext_headings_84" {
    const allocator = testing.allocator;
    const markdown = "   Foo\n---\n\n  Foo\n-----\n\n  Foo\n  ===\n";
    const expected_html = "<h2>Foo</h2>\n<h2>Foo</h2>\n<h1>Foo</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 85 from section "Setext headings" (lines 1420-1433)
test "commonmark_spec_setext_headings_85" {
    const allocator = testing.allocator;
    const markdown = "    Foo\n    ---\n\n    Foo\n---\n";
    const expected_html = "<pre><code>Foo\n---\n\nFoo\n</code></pre>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 86 from section "Setext headings" (lines 1439-1444)
test "commonmark_spec_setext_headings_86" {
    const allocator = testing.allocator;
    const markdown = "Foo\n   ----      \n";
    const expected_html = "<h2>Foo</h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 87 from section "Setext headings" (lines 1449-1455)
test "commonmark_spec_setext_headings_87" {
    const allocator = testing.allocator;
    const markdown = "Foo\n    ---\n";
    const expected_html = "<p>Foo\n---</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 88 from section "Setext headings" (lines 1460-1471)
test "commonmark_spec_setext_headings_88" {
    const allocator = testing.allocator;
    const markdown = "Foo\n= =\n\nFoo\n--- -\n";
    const expected_html = "<p>Foo\n= =</p>\n<p>Foo</p>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 89 from section "Setext headings" (lines 1476-1481)
test "commonmark_spec_setext_headings_89" {
    const allocator = testing.allocator;
    const markdown = "Foo  \n-----\n";
    const expected_html = "<h2>Foo</h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 90 from section "Setext headings" (lines 1486-1491)
test "commonmark_spec_setext_headings_90" {
    const allocator = testing.allocator;
    const markdown = "Foo\\\n----\n";
    const expected_html = "<h2>Foo\\</h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 91 from section "Setext headings" (lines 1497-1510)
test "commonmark_spec_setext_headings_91" {
    const allocator = testing.allocator;
    const markdown = "`Foo\n----\n`\n\n<a title=\"a lot\n---\nof dashes\"/>\n";
    const expected_html = "<h2>`Foo</h2>\n<p>`</p>\n<h2>&lt;a title=&quot;a lot</h2>\n<p>of dashes&quot;/&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 92 from section "Setext headings" (lines 1516-1524)
test "commonmark_spec_setext_headings_92" {
    const allocator = testing.allocator;
    const markdown = "> Foo\n---\n";
    const expected_html = "<blockquote>\n<p>Foo</p>\n</blockquote>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 93 from section "Setext headings" (lines 1527-1537)
test "commonmark_spec_setext_headings_93" {
    const allocator = testing.allocator;
    const markdown = "> foo\nbar\n===\n";
    const expected_html = "<blockquote>\n<p>foo\nbar\n===</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 94 from section "Setext headings" (lines 1540-1548)
test "commonmark_spec_setext_headings_94" {
    const allocator = testing.allocator;
    const markdown = "- Foo\n---\n";
    const expected_html = "<ul>\n<li>Foo</li>\n</ul>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 95 from section "Setext headings" (lines 1555-1562)
test "commonmark_spec_setext_headings_95" {
    const allocator = testing.allocator;
    const markdown = "Foo\nBar\n---\n";
    const expected_html = "<h2>Foo\nBar</h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 96 from section "Setext headings" (lines 1568-1580)
test "commonmark_spec_setext_headings_96" {
    const allocator = testing.allocator;
    const markdown = "---\nFoo\n---\nBar\n---\nBaz\n";
    const expected_html = "<hr />\n<h2>Foo</h2>\n<h2>Bar</h2>\n<p>Baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 97 from section "Setext headings" (lines 1585-1590)
test "commonmark_spec_setext_headings_97" {
    const allocator = testing.allocator;
    const markdown = "\n====\n";
    const expected_html = "<p>====</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 98 from section "Setext headings" (lines 1597-1603)
test "commonmark_spec_setext_headings_98" {
    const allocator = testing.allocator;
    const markdown = "---\n---\n";
    const expected_html = "<hr />\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 99 from section "Setext headings" (lines 1606-1614)
test "commonmark_spec_setext_headings_99" {
    const allocator = testing.allocator;
    const markdown = "- foo\n-----\n";
    const expected_html = "<ul>\n<li>foo</li>\n</ul>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 100 from section "Setext headings" (lines 1617-1624)
test "commonmark_spec_setext_headings_100" {
    const allocator = testing.allocator;
    const markdown = "    foo\n---\n";
    const expected_html = "<pre><code>foo\n</code></pre>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 101 from section "Setext headings" (lines 1627-1635)
test "commonmark_spec_setext_headings_101" {
    const allocator = testing.allocator;
    const markdown = "> foo\n-----\n";
    const expected_html = "<blockquote>\n<p>foo</p>\n</blockquote>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 102 from section "Setext headings" (lines 1641-1646)
test "commonmark_spec_setext_headings_102" {
    const allocator = testing.allocator;
    const markdown = "\\> foo\n------\n";
    const expected_html = "<h2>&gt; foo</h2>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 103 from section "Setext headings" (lines 1672-1682)
test "commonmark_spec_setext_headings_103" {
    const allocator = testing.allocator;
    const markdown = "Foo\n\nbar\n---\nbaz\n";
    const expected_html = "<p>Foo</p>\n<h2>bar</h2>\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 104 from section "Setext headings" (lines 1688-1700)
test "commonmark_spec_setext_headings_104" {
    const allocator = testing.allocator;
    const markdown = "Foo\nbar\n\n---\n\nbaz\n";
    const expected_html = "<p>Foo\nbar</p>\n<hr />\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 105 from section "Setext headings" (lines 1706-1716)
test "commonmark_spec_setext_headings_105" {
    const allocator = testing.allocator;
    const markdown = "Foo\nbar\n* * *\nbaz\n";
    const expected_html = "<p>Foo\nbar</p>\n<hr />\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 106 from section "Setext headings" (lines 1721-1731)
test "commonmark_spec_setext_headings_106" {
    const allocator = testing.allocator;
    const markdown = "Foo\nbar\n\\---\nbaz\n";
    const expected_html = "<p>Foo\nbar\n---\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 107 from section "Indented code blocks" (lines 1749-1756)
test "commonmark_spec_indented_code_blocks_107" {
    const allocator = testing.allocator;
    const markdown = "    a simple\n      indented code block\n";
    const expected_html = "<pre><code>a simple\n  indented code block\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 108 from section "Indented code blocks" (lines 1763-1774)
test "commonmark_spec_indented_code_blocks_108" {
    const allocator = testing.allocator;
    const markdown = "  - foo\n\n    bar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<p>bar</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 109 from section "Indented code blocks" (lines 1777-1790)
test "commonmark_spec_indented_code_blocks_109" {
    const allocator = testing.allocator;
    const markdown = "1.  foo\n\n    - bar\n";
    const expected_html = "<ol>\n<li>\n<p>foo</p>\n<ul>\n<li>bar</li>\n</ul>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 110 from section "Indented code blocks" (lines 1797-1808)
test "commonmark_spec_indented_code_blocks_110" {
    const allocator = testing.allocator;
    const markdown = "    <a/>\n    *hi*\n\n    - one\n";
    const expected_html = "<pre><code>&lt;a/&gt;\n*hi*\n\n- one\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 111 from section "Indented code blocks" (lines 1813-1830)
test "commonmark_spec_indented_code_blocks_111" {
    const allocator = testing.allocator;
    const markdown = "    chunk1\n\n    chunk2\n  \n \n \n    chunk3\n";
    const expected_html = "<pre><code>chunk1\n\nchunk2\n\n\n\nchunk3\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 112 from section "Indented code blocks" (lines 1836-1845)
test "commonmark_spec_indented_code_blocks_112" {
    const allocator = testing.allocator;
    const markdown = "    chunk1\n      \n      chunk2\n";
    const expected_html = "<pre><code>chunk1\n  \n  chunk2\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 113 from section "Indented code blocks" (lines 1851-1858)
test "commonmark_spec_indented_code_blocks_113" {
    const allocator = testing.allocator;
    const markdown = "Foo\n    bar\n\n";
    const expected_html = "<p>Foo\nbar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 114 from section "Indented code blocks" (lines 1865-1872)
test "commonmark_spec_indented_code_blocks_114" {
    const allocator = testing.allocator;
    const markdown = "    foo\nbar\n";
    const expected_html = "<pre><code>foo\n</code></pre>\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 115 from section "Indented code blocks" (lines 1878-1893)
test "commonmark_spec_indented_code_blocks_115" {
    const allocator = testing.allocator;
    const markdown = "# Heading\n    foo\nHeading\n------\n    foo\n----\n";
    const expected_html = "<h1>Heading</h1>\n<pre><code>foo\n</code></pre>\n<h2>Heading</h2>\n<pre><code>foo\n</code></pre>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 116 from section "Indented code blocks" (lines 1898-1905)
test "commonmark_spec_indented_code_blocks_116" {
    const allocator = testing.allocator;
    const markdown = "        foo\n    bar\n";
    const expected_html = "<pre><code>    foo\nbar\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 117 from section "Indented code blocks" (lines 1911-1920)
test "commonmark_spec_indented_code_blocks_117" {
    const allocator = testing.allocator;
    const markdown = "\n    \n    foo\n    \n\n";
    const expected_html = "<pre><code>foo\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 118 from section "Indented code blocks" (lines 1925-1930)
test "commonmark_spec_indented_code_blocks_118" {
    const allocator = testing.allocator;
    const markdown = "    foo  \n";
    const expected_html = "<pre><code>foo  \n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 119 from section "Fenced code blocks" (lines 1980-1989)
test "commonmark_spec_fenced_code_blocks_119" {
    const allocator = testing.allocator;
    const markdown = "```\n<\n >\n```\n";
    const expected_html = "<pre><code>&lt;\n &gt;\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 120 from section "Fenced code blocks" (lines 1994-2003)
test "commonmark_spec_fenced_code_blocks_120" {
    const allocator = testing.allocator;
    const markdown = "~~~\n<\n >\n~~~\n";
    const expected_html = "<pre><code>&lt;\n &gt;\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 121 from section "Fenced code blocks" (lines 2007-2013)
test "commonmark_spec_fenced_code_blocks_121" {
    const allocator = testing.allocator;
    const markdown = "``\nfoo\n``\n";
    const expected_html = "<p><code>foo</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 122 from section "Fenced code blocks" (lines 2018-2027)
test "commonmark_spec_fenced_code_blocks_122" {
    const allocator = testing.allocator;
    const markdown = "```\naaa\n~~~\n```\n";
    const expected_html = "<pre><code>aaa\n~~~\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 123 from section "Fenced code blocks" (lines 2030-2039)
test "commonmark_spec_fenced_code_blocks_123" {
    const allocator = testing.allocator;
    const markdown = "~~~\naaa\n```\n~~~\n";
    const expected_html = "<pre><code>aaa\n```\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 124 from section "Fenced code blocks" (lines 2044-2053)
test "commonmark_spec_fenced_code_blocks_124" {
    const allocator = testing.allocator;
    const markdown = "````\naaa\n```\n``````\n";
    const expected_html = "<pre><code>aaa\n```\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 125 from section "Fenced code blocks" (lines 2056-2065)
test "commonmark_spec_fenced_code_blocks_125" {
    const allocator = testing.allocator;
    const markdown = "~~~~\naaa\n~~~\n~~~~\n";
    const expected_html = "<pre><code>aaa\n~~~\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 126 from section "Fenced code blocks" (lines 2071-2075)
test "commonmark_spec_fenced_code_blocks_126" {
    const allocator = testing.allocator;
    const markdown = "```\n";
    const expected_html = "<pre><code></code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 127 from section "Fenced code blocks" (lines 2078-2088)
test "commonmark_spec_fenced_code_blocks_127" {
    const allocator = testing.allocator;
    const markdown = "`````\n\n```\naaa\n";
    const expected_html = "<pre><code>\n```\naaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 128 from section "Fenced code blocks" (lines 2091-2102)
test "commonmark_spec_fenced_code_blocks_128" {
    const allocator = testing.allocator;
    const markdown = "> ```\n> aaa\n\nbbb\n";
    const expected_html = "<blockquote>\n<pre><code>aaa\n</code></pre>\n</blockquote>\n<p>bbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 129 from section "Fenced code blocks" (lines 2107-2116)
test "commonmark_spec_fenced_code_blocks_129" {
    const allocator = testing.allocator;
    const markdown = "```\n\n  \n```\n";
    const expected_html = "<pre><code>\n  \n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 130 from section "Fenced code blocks" (lines 2121-2126)
test "commonmark_spec_fenced_code_blocks_130" {
    const allocator = testing.allocator;
    const markdown = "```\n```\n";
    const expected_html = "<pre><code></code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 131 from section "Fenced code blocks" (lines 2133-2142)
test "commonmark_spec_fenced_code_blocks_131" {
    const allocator = testing.allocator;
    const markdown = " ```\n aaa\naaa\n```\n";
    const expected_html = "<pre><code>aaa\naaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 132 from section "Fenced code blocks" (lines 2145-2156)
test "commonmark_spec_fenced_code_blocks_132" {
    const allocator = testing.allocator;
    const markdown = "  ```\naaa\n  aaa\naaa\n  ```\n";
    const expected_html = "<pre><code>aaa\naaa\naaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 133 from section "Fenced code blocks" (lines 2159-2170)
test "commonmark_spec_fenced_code_blocks_133" {
    const allocator = testing.allocator;
    const markdown = "   ```\n   aaa\n    aaa\n  aaa\n   ```\n";
    const expected_html = "<pre><code>aaa\n aaa\naaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 134 from section "Fenced code blocks" (lines 2175-2184)
test "commonmark_spec_fenced_code_blocks_134" {
    const allocator = testing.allocator;
    const markdown = "    ```\n    aaa\n    ```\n";
    const expected_html = "<pre><code>```\naaa\n```\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 135 from section "Fenced code blocks" (lines 2190-2197)
test "commonmark_spec_fenced_code_blocks_135" {
    const allocator = testing.allocator;
    const markdown = "```\naaa\n  ```\n";
    const expected_html = "<pre><code>aaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 136 from section "Fenced code blocks" (lines 2200-2207)
test "commonmark_spec_fenced_code_blocks_136" {
    const allocator = testing.allocator;
    const markdown = "   ```\naaa\n  ```\n";
    const expected_html = "<pre><code>aaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 137 from section "Fenced code blocks" (lines 2212-2220)
test "commonmark_spec_fenced_code_blocks_137" {
    const allocator = testing.allocator;
    const markdown = "```\naaa\n    ```\n";
    const expected_html = "<pre><code>aaa\n    ```\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 138 from section "Fenced code blocks" (lines 2226-2232)
test "commonmark_spec_fenced_code_blocks_138" {
    const allocator = testing.allocator;
    const markdown = "``` ```\naaa\n";
    const expected_html = "<p><code> </code>\naaa</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 139 from section "Fenced code blocks" (lines 2235-2243)
test "commonmark_spec_fenced_code_blocks_139" {
    const allocator = testing.allocator;
    const markdown = "~~~~~~\naaa\n~~~ ~~\n";
    const expected_html = "<pre><code>aaa\n~~~ ~~\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 140 from section "Fenced code blocks" (lines 2249-2260)
test "commonmark_spec_fenced_code_blocks_140" {
    const allocator = testing.allocator;
    const markdown = "foo\n```\nbar\n```\nbaz\n";
    const expected_html = "<p>foo</p>\n<pre><code>bar\n</code></pre>\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 141 from section "Fenced code blocks" (lines 2266-2278)
test "commonmark_spec_fenced_code_blocks_141" {
    const allocator = testing.allocator;
    const markdown = "foo\n---\n~~~\nbar\n~~~\n# baz\n";
    const expected_html = "<h2>foo</h2>\n<pre><code>bar\n</code></pre>\n<h1>baz</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 142 from section "Fenced code blocks" (lines 2288-2299)
test "commonmark_spec_fenced_code_blocks_142" {
    const allocator = testing.allocator;
    const markdown = "```ruby\ndef foo(x)\n  return 3\nend\n```\n";
    const expected_html = "<pre><code class=\"language-ruby\">def foo(x)\n  return 3\nend\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 143 from section "Fenced code blocks" (lines 2302-2313)
test "commonmark_spec_fenced_code_blocks_143" {
    const allocator = testing.allocator;
    const markdown = "~~~~    ruby startline=3 $%@#$\ndef foo(x)\n  return 3\nend\n~~~~~~~\n";
    const expected_html = "<pre><code class=\"language-ruby\">def foo(x)\n  return 3\nend\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 144 from section "Fenced code blocks" (lines 2316-2321)
test "commonmark_spec_fenced_code_blocks_144" {
    const allocator = testing.allocator;
    const markdown = "````;\n````\n";
    const expected_html = "<pre><code class=\"language-;\"></code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 145 from section "Fenced code blocks" (lines 2326-2332)
test "commonmark_spec_fenced_code_blocks_145" {
    const allocator = testing.allocator;
    const markdown = "``` aa ```\nfoo\n";
    const expected_html = "<p><code>aa</code>\nfoo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 146 from section "Fenced code blocks" (lines 2337-2344)
test "commonmark_spec_fenced_code_blocks_146" {
    const allocator = testing.allocator;
    const markdown = "~~~ aa ``` ~~~\nfoo\n~~~\n";
    const expected_html = "<pre><code class=\"language-aa\">foo\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 147 from section "Fenced code blocks" (lines 2349-2356)
test "commonmark_spec_fenced_code_blocks_147" {
    const allocator = testing.allocator;
    const markdown = "```\n``` aaa\n```\n";
    const expected_html = "<pre><code>``` aaa\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 148 from section "HTML blocks" (lines 2428-2443)
test "commonmark_spec_html_blocks_148" {
    const allocator = testing.allocator;
    const markdown = "<table><tr><td>\n<pre>\n**Hello**,\n\n_world_.\n</pre>\n</td></tr></table>\n";
    const expected_html = "<table><tr><td>\n<pre>\n**Hello**,\n<p><em>world</em>.\n</pre></p>\n</td></tr></table>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 149 from section "HTML blocks" (lines 2457-2476)
test "commonmark_spec_html_blocks_149" {
    const allocator = testing.allocator;
    const markdown = "<table>\n  <tr>\n    <td>\n           hi\n    </td>\n  </tr>\n</table>\n\nokay.\n";
    const expected_html = "<table>\n  <tr>\n    <td>\n           hi\n    </td>\n  </tr>\n</table>\n<p>okay.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 150 from section "HTML blocks" (lines 2479-2487)
test "commonmark_spec_html_blocks_150" {
    const allocator = testing.allocator;
    const markdown = " <div>\n  *hello*\n         <foo><a>\n";
    const expected_html = " <div>\n  *hello*\n         <foo><a>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 151 from section "HTML blocks" (lines 2492-2498)
test "commonmark_spec_html_blocks_151" {
    const allocator = testing.allocator;
    const markdown = "</div>\n*foo*\n";
    const expected_html = "</div>\n*foo*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 152 from section "HTML blocks" (lines 2503-2513)
test "commonmark_spec_html_blocks_152" {
    const allocator = testing.allocator;
    const markdown = "<DIV CLASS=\"foo\">\n\n*Markdown*\n\n</DIV>\n";
    const expected_html = "<DIV CLASS=\"foo\">\n<p><em>Markdown</em></p>\n</DIV>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 153 from section "HTML blocks" (lines 2519-2527)
test "commonmark_spec_html_blocks_153" {
    const allocator = testing.allocator;
    const markdown = "<div id=\"foo\"\n  class=\"bar\">\n</div>\n";
    const expected_html = "<div id=\"foo\"\n  class=\"bar\">\n</div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 154 from section "HTML blocks" (lines 2530-2538)
test "commonmark_spec_html_blocks_154" {
    const allocator = testing.allocator;
    const markdown = "<div id=\"foo\" class=\"bar\n  baz\">\n</div>\n";
    const expected_html = "<div id=\"foo\" class=\"bar\n  baz\">\n</div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 155 from section "HTML blocks" (lines 2542-2551)
test "commonmark_spec_html_blocks_155" {
    const allocator = testing.allocator;
    const markdown = "<div>\n*foo*\n\n*bar*\n";
    const expected_html = "<div>\n*foo*\n<p><em>bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 156 from section "HTML blocks" (lines 2558-2564)
test "commonmark_spec_html_blocks_156" {
    const allocator = testing.allocator;
    const markdown = "<div id=\"foo\"\n*hi*\n";
    const expected_html = "<div id=\"foo\"\n*hi*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 157 from section "HTML blocks" (lines 2567-2573)
test "commonmark_spec_html_blocks_157" {
    const allocator = testing.allocator;
    const markdown = "<div class\nfoo\n";
    const expected_html = "<div class\nfoo\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 158 from section "HTML blocks" (lines 2579-2585)
test "commonmark_spec_html_blocks_158" {
    const allocator = testing.allocator;
    const markdown = "<div *???-&&&-<---\n*foo*\n";
    const expected_html = "<div *???-&&&-<---\n*foo*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 159 from section "HTML blocks" (lines 2591-2595)
test "commonmark_spec_html_blocks_159" {
    const allocator = testing.allocator;
    const markdown = "<div><a href=\"bar\">*foo*</a></div>\n";
    const expected_html = "<div><a href=\"bar\">*foo*</a></div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 160 from section "HTML blocks" (lines 2598-2606)
test "commonmark_spec_html_blocks_160" {
    const allocator = testing.allocator;
    const markdown = "<table><tr><td>\nfoo\n</td></tr></table>\n";
    const expected_html = "<table><tr><td>\nfoo\n</td></tr></table>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 161 from section "HTML blocks" (lines 2615-2625)
test "commonmark_spec_html_blocks_161" {
    const allocator = testing.allocator;
    const markdown = "<div></div>\n``` c\nint x = 33;\n```\n";
    const expected_html = "<div></div>\n``` c\nint x = 33;\n```\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 162 from section "HTML blocks" (lines 2632-2640)
test "commonmark_spec_html_blocks_162" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"foo\">\n*bar*\n</a>\n";
    const expected_html = "<a href=\"foo\">\n*bar*\n</a>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 163 from section "HTML blocks" (lines 2645-2653)
test "commonmark_spec_html_blocks_163" {
    const allocator = testing.allocator;
    const markdown = "<Warning>\n*bar*\n</Warning>\n";
    const expected_html = "<Warning>\n*bar*\n</Warning>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 164 from section "HTML blocks" (lines 2656-2664)
test "commonmark_spec_html_blocks_164" {
    const allocator = testing.allocator;
    const markdown = "<i class=\"foo\">\n*bar*\n</i>\n";
    const expected_html = "<i class=\"foo\">\n*bar*\n</i>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 165 from section "HTML blocks" (lines 2667-2673)
test "commonmark_spec_html_blocks_165" {
    const allocator = testing.allocator;
    const markdown = "</ins>\n*bar*\n";
    const expected_html = "</ins>\n*bar*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 166 from section "HTML blocks" (lines 2682-2690)
test "commonmark_spec_html_blocks_166" {
    const allocator = testing.allocator;
    const markdown = "<del>\n*foo*\n</del>\n";
    const expected_html = "<del>\n*foo*\n</del>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 167 from section "HTML blocks" (lines 2697-2707)
test "commonmark_spec_html_blocks_167" {
    const allocator = testing.allocator;
    const markdown = "<del>\n\n*foo*\n\n</del>\n";
    const expected_html = "<del>\n<p><em>foo</em></p>\n</del>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 168 from section "HTML blocks" (lines 2715-2719)
test "commonmark_spec_html_blocks_168" {
    const allocator = testing.allocator;
    const markdown = "<del>*foo*</del>\n";
    const expected_html = "<p><del><em>foo</em></del></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 169 from section "HTML blocks" (lines 2731-2747)
test "commonmark_spec_html_blocks_169" {
    const allocator = testing.allocator;
    const markdown = "<pre language=\"haskell\"><code>\nimport Text.HTML.TagSoup\n\nmain :: IO ()\nmain = print $ parseTags tags\n</code></pre>\nokay\n";
    const expected_html = "<pre language=\"haskell\"><code>\nimport Text.HTML.TagSoup\n\nmain :: IO ()\nmain = print $ parseTags tags\n</code></pre>\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 170 from section "HTML blocks" (lines 2752-2766)
test "commonmark_spec_html_blocks_170" {
    const allocator = testing.allocator;
    const markdown = "<script type=\"text/javascript\">\n// JavaScript example\n\ndocument.getElementById(\"demo\").innerHTML = \"Hello JavaScript!\";\n</script>\nokay\n";
    const expected_html = "<script type=\"text/javascript\">\n// JavaScript example\n\ndocument.getElementById(\"demo\").innerHTML = \"Hello JavaScript!\";\n</script>\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 171 from section "HTML blocks" (lines 2771-2787)
test "commonmark_spec_html_blocks_171" {
    const allocator = testing.allocator;
    const markdown = "<textarea>\n\n*foo*\n\n_bar_\n\n</textarea>\n";
    const expected_html = "<textarea>\n\n*foo*\n\n_bar_\n\n</textarea>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 172 from section "HTML blocks" (lines 2791-2807)
test "commonmark_spec_html_blocks_172" {
    const allocator = testing.allocator;
    const markdown = "<style\n  type=\"text/css\">\nh1 {color:red;}\n\np {color:blue;}\n</style>\nokay\n";
    const expected_html = "<style\n  type=\"text/css\">\nh1 {color:red;}\n\np {color:blue;}\n</style>\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 173 from section "HTML blocks" (lines 2814-2824)
test "commonmark_spec_html_blocks_173" {
    const allocator = testing.allocator;
    const markdown = "<style\n  type=\"text/css\">\n\nfoo\n";
    const expected_html = "<style\n  type=\"text/css\">\n\nfoo\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 174 from section "HTML blocks" (lines 2827-2838)
test "commonmark_spec_html_blocks_174" {
    const allocator = testing.allocator;
    const markdown = "> <div>\n> foo\n\nbar\n";
    const expected_html = "<blockquote>\n<div>\nfoo\n</blockquote>\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 175 from section "HTML blocks" (lines 2841-2851)
test "commonmark_spec_html_blocks_175" {
    const allocator = testing.allocator;
    const markdown = "- <div>\n- foo\n";
    const expected_html = "<ul>\n<li>\n<div>\n</li>\n<li>foo</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 176 from section "HTML blocks" (lines 2856-2862)
test "commonmark_spec_html_blocks_176" {
    const allocator = testing.allocator;
    const markdown = "<style>p{color:red;}</style>\n*foo*\n";
    const expected_html = "<style>p{color:red;}</style>\n<p><em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 177 from section "HTML blocks" (lines 2865-2871)
test "commonmark_spec_html_blocks_177" {
    const allocator = testing.allocator;
    const markdown = "<!-- foo -->*bar*\n*baz*\n";
    const expected_html = "<!-- foo -->*bar*\n<p><em>baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 178 from section "HTML blocks" (lines 2877-2885)
test "commonmark_spec_html_blocks_178" {
    const allocator = testing.allocator;
    const markdown = "<script>\nfoo\n</script>1. *bar*\n";
    const expected_html = "<script>\nfoo\n</script>1. *bar*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 179 from section "HTML blocks" (lines 2890-2902)
test "commonmark_spec_html_blocks_179" {
    const allocator = testing.allocator;
    const markdown = "<!-- Foo\n\nbar\n   baz -->\nokay\n";
    const expected_html = "<!-- Foo\n\nbar\n   baz -->\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 180 from section "HTML blocks" (lines 2908-2922)
test "commonmark_spec_html_blocks_180" {
    const allocator = testing.allocator;
    const markdown = "<?php\n\n  echo '>';\n\n?>\nokay\n";
    const expected_html = "<?php\n\n  echo '>';\n\n?>\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 181 from section "HTML blocks" (lines 2927-2931)
test "commonmark_spec_html_blocks_181" {
    const allocator = testing.allocator;
    const markdown = "<!DOCTYPE html>\n";
    const expected_html = "<!DOCTYPE html>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 182 from section "HTML blocks" (lines 2936-2964)
test "commonmark_spec_html_blocks_182" {
    const allocator = testing.allocator;
    const markdown = "<![CDATA[\nfunction matchwo(a,b)\n{\n  if (a < b && a < 0) then {\n    return 1;\n\n  } else {\n\n    return 0;\n  }\n}\n]]>\nokay\n";
    const expected_html = "<![CDATA[\nfunction matchwo(a,b)\n{\n  if (a < b && a < 0) then {\n    return 1;\n\n  } else {\n\n    return 0;\n  }\n}\n]]>\n<p>okay</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 183 from section "HTML blocks" (lines 2970-2978)
test "commonmark_spec_html_blocks_183" {
    const allocator = testing.allocator;
    const markdown = "  <!-- foo -->\n\n    <!-- foo -->\n";
    const expected_html = "  <!-- foo -->\n<pre><code>&lt;!-- foo --&gt;\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 184 from section "HTML blocks" (lines 2981-2989)
test "commonmark_spec_html_blocks_184" {
    const allocator = testing.allocator;
    const markdown = "  <div>\n\n    <div>\n";
    const expected_html = "  <div>\n<pre><code>&lt;div&gt;\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 185 from section "HTML blocks" (lines 2995-3005)
test "commonmark_spec_html_blocks_185" {
    const allocator = testing.allocator;
    const markdown = "Foo\n<div>\nbar\n</div>\n";
    const expected_html = "<p>Foo</p>\n<div>\nbar\n</div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 186 from section "HTML blocks" (lines 3012-3022)
test "commonmark_spec_html_blocks_186" {
    const allocator = testing.allocator;
    const markdown = "<div>\nbar\n</div>\n*foo*\n";
    const expected_html = "<div>\nbar\n</div>\n*foo*\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 187 from section "HTML blocks" (lines 3027-3035)
test "commonmark_spec_html_blocks_187" {
    const allocator = testing.allocator;
    const markdown = "Foo\n<a href=\"bar\">\nbaz\n";
    const expected_html = "<p>Foo\n<a href=\"bar\">\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 188 from section "HTML blocks" (lines 3068-3078)
test "commonmark_spec_html_blocks_188" {
    const allocator = testing.allocator;
    const markdown = "<div>\n\n*Emphasized* text.\n\n</div>\n";
    const expected_html = "<div>\n<p><em>Emphasized</em> text.</p>\n</div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 189 from section "HTML blocks" (lines 3081-3089)
test "commonmark_spec_html_blocks_189" {
    const allocator = testing.allocator;
    const markdown = "<div>\n*Emphasized* text.\n</div>\n";
    const expected_html = "<div>\n*Emphasized* text.\n</div>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 190 from section "HTML blocks" (lines 3103-3123)
test "commonmark_spec_html_blocks_190" {
    const allocator = testing.allocator;
    const markdown = "<table>\n\n<tr>\n\n<td>\nHi\n</td>\n\n</tr>\n\n</table>\n";
    const expected_html = "<table>\n<tr>\n<td>\nHi\n</td>\n</tr>\n</table>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 191 from section "HTML blocks" (lines 3130-3151)
test "commonmark_spec_html_blocks_191" {
    const allocator = testing.allocator;
    const markdown = "<table>\n\n  <tr>\n\n    <td>\n      Hi\n    </td>\n\n  </tr>\n\n</table>\n";
    const expected_html = "<table>\n  <tr>\n<pre><code>&lt;td&gt;\n  Hi\n&lt;/td&gt;\n</code></pre>\n  </tr>\n</table>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 192 from section "Link reference definitions" (lines 3179-3185)
test "commonmark_spec_link_reference_definitions_192" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url \"title\"\n\n[foo]\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 193 from section "Link reference definitions" (lines 3188-3196)
test "commonmark_spec_link_reference_definitions_193" {
    const allocator = testing.allocator;
    const markdown = "   [foo]: \n      /url  \n           'the title'  \n\n[foo]\n";
    const expected_html = "<p><a href=\"/url\" title=\"the title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 194 from section "Link reference definitions" (lines 3199-3205)
test "commonmark_spec_link_reference_definitions_194" {
    const allocator = testing.allocator;
    const markdown = "[Foo*bar\\]]:my_(url) 'title (with parens)'\n\n[Foo*bar\\]]\n";
    const expected_html = "<p><a href=\"my_(url)\" title=\"title (with parens)\">Foo*bar]</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 195 from section "Link reference definitions" (lines 3208-3216)
test "commonmark_spec_link_reference_definitions_195" {
    const allocator = testing.allocator;
    const markdown = "[Foo bar]:\n<my url>\n'title'\n\n[Foo bar]\n";
    const expected_html = "<p><a href=\"my%20url\" title=\"title\">Foo bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 196 from section "Link reference definitions" (lines 3221-3235)
test "commonmark_spec_link_reference_definitions_196" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url '\ntitle\nline1\nline2\n'\n\n[foo]\n";
    const expected_html = "<p><a href=\"/url\" title=\"\ntitle\nline1\nline2\n\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 197 from section "Link reference definitions" (lines 3240-3250)
test "commonmark_spec_link_reference_definitions_197" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url 'title\n\nwith blank line'\n\n[foo]\n";
    const expected_html = "<p>[foo]: /url 'title</p>\n<p>with blank line'</p>\n<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 198 from section "Link reference definitions" (lines 3255-3262)
test "commonmark_spec_link_reference_definitions_198" {
    const allocator = testing.allocator;
    const markdown = "[foo]:\n/url\n\n[foo]\n";
    const expected_html = "<p><a href=\"/url\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 199 from section "Link reference definitions" (lines 3267-3274)
test "commonmark_spec_link_reference_definitions_199" {
    const allocator = testing.allocator;
    const markdown = "[foo]:\n\n[foo]\n";
    const expected_html = "<p>[foo]:</p>\n<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 200 from section "Link reference definitions" (lines 3279-3285)
test "commonmark_spec_link_reference_definitions_200" {
    const allocator = testing.allocator;
    const markdown = "[foo]: <>\n\n[foo]\n";
    const expected_html = "<p><a href=\"\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 201 from section "Link reference definitions" (lines 3290-3297)
test "commonmark_spec_link_reference_definitions_201" {
    const allocator = testing.allocator;
    const markdown = "[foo]: <bar>(baz)\n\n[foo]\n";
    const expected_html = "<p>[foo]: <bar>(baz)</p>\n<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 202 from section "Link reference definitions" (lines 3303-3309)
test "commonmark_spec_link_reference_definitions_202" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url\\bar\\*baz \"foo\\\"bar\\baz\"\n\n[foo]\n";
    const expected_html = "<p><a href=\"/url%5Cbar*baz\" title=\"foo&quot;bar\\baz\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 203 from section "Link reference definitions" (lines 3314-3320)
test "commonmark_spec_link_reference_definitions_203" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n[foo]: url\n";
    const expected_html = "<p><a href=\"url\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 204 from section "Link reference definitions" (lines 3326-3333)
test "commonmark_spec_link_reference_definitions_204" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n[foo]: first\n[foo]: second\n";
    const expected_html = "<p><a href=\"first\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 205 from section "Link reference definitions" (lines 3339-3345)
test "commonmark_spec_link_reference_definitions_205" {
    const allocator = testing.allocator;
    const markdown = "[FOO]: /url\n\n[Foo]\n";
    const expected_html = "<p><a href=\"/url\">Foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 206 from section "Link reference definitions" (lines 3348-3354)
test "commonmark_spec_link_reference_definitions_206" {
    const allocator = testing.allocator;
    const markdown = "[ΑΓΩ]: /φου\n\n[αγω]\n";
    const expected_html = "<p><a href=\"/%CF%86%CE%BF%CF%85\">αγω</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 207 from section "Link reference definitions" (lines 3363-3366)
test "commonmark_spec_link_reference_definitions_207" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url\n";
    const expected_html = "";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 208 from section "Link reference definitions" (lines 3371-3378)
test "commonmark_spec_link_reference_definitions_208" {
    const allocator = testing.allocator;
    const markdown = "[\nfoo\n]: /url\nbar\n";
    const expected_html = "<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 209 from section "Link reference definitions" (lines 3384-3388)
test "commonmark_spec_link_reference_definitions_209" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url \"title\" ok\n";
    const expected_html = "<p>[foo]: /url &quot;title&quot; ok</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 210 from section "Link reference definitions" (lines 3393-3398)
test "commonmark_spec_link_reference_definitions_210" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url\n\"title\" ok\n";
    const expected_html = "<p>&quot;title&quot; ok</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 211 from section "Link reference definitions" (lines 3404-3412)
test "commonmark_spec_link_reference_definitions_211" {
    const allocator = testing.allocator;
    const markdown = "    [foo]: /url \"title\"\n\n[foo]\n";
    const expected_html = "<pre><code>[foo]: /url &quot;title&quot;\n</code></pre>\n<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 212 from section "Link reference definitions" (lines 3418-3428)
test "commonmark_spec_link_reference_definitions_212" {
    const allocator = testing.allocator;
    const markdown = "```\n[foo]: /url\n```\n\n[foo]\n";
    const expected_html = "<pre><code>[foo]: /url\n</code></pre>\n<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 213 from section "Link reference definitions" (lines 3433-3442)
test "commonmark_spec_link_reference_definitions_213" {
    const allocator = testing.allocator;
    const markdown = "Foo\n[bar]: /baz\n\n[bar]\n";
    const expected_html = "<p>Foo\n[bar]: /baz</p>\n<p>[bar]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 214 from section "Link reference definitions" (lines 3448-3457)
test "commonmark_spec_link_reference_definitions_214" {
    const allocator = testing.allocator;
    const markdown = "# [Foo]\n[foo]: /url\n> bar\n";
    const expected_html = "<h1><a href=\"/url\">Foo</a></h1>\n<blockquote>\n<p>bar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 215 from section "Link reference definitions" (lines 3459-3467)
test "commonmark_spec_link_reference_definitions_215" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url\nbar\n===\n[foo]\n";
    const expected_html = "<h1>bar</h1>\n<p><a href=\"/url\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 216 from section "Link reference definitions" (lines 3469-3476)
test "commonmark_spec_link_reference_definitions_216" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url\n===\n[foo]\n";
    const expected_html = "<p>===\n<a href=\"/url\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 217 from section "Link reference definitions" (lines 3482-3495)
test "commonmark_spec_link_reference_definitions_217" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /foo-url \"foo\"\n[bar]: /bar-url\n  \"bar\"\n[baz]: /baz-url\n\n[foo],\n[bar],\n[baz]\n";
    const expected_html = "<p><a href=\"/foo-url\" title=\"foo\">foo</a>,\n<a href=\"/bar-url\" title=\"bar\">bar</a>,\n<a href=\"/baz-url\">baz</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 218 from section "Link reference definitions" (lines 3503-3511)
test "commonmark_spec_link_reference_definitions_218" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n> [foo]: /url\n";
    const expected_html = "<p><a href=\"/url\">foo</a></p>\n<blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 219 from section "Paragraphs" (lines 3525-3532)
test "commonmark_spec_paragraphs_219" {
    const allocator = testing.allocator;
    const markdown = "aaa\n\nbbb\n";
    const expected_html = "<p>aaa</p>\n<p>bbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 220 from section "Paragraphs" (lines 3537-3548)
test "commonmark_spec_paragraphs_220" {
    const allocator = testing.allocator;
    const markdown = "aaa\nbbb\n\nccc\nddd\n";
    const expected_html = "<p>aaa\nbbb</p>\n<p>ccc\nddd</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 221 from section "Paragraphs" (lines 3553-3561)
test "commonmark_spec_paragraphs_221" {
    const allocator = testing.allocator;
    const markdown = "aaa\n\n\nbbb\n";
    const expected_html = "<p>aaa</p>\n<p>bbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 222 from section "Paragraphs" (lines 3566-3572)
test "commonmark_spec_paragraphs_222" {
    const allocator = testing.allocator;
    const markdown = "  aaa\n bbb\n";
    const expected_html = "<p>aaa\nbbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 223 from section "Paragraphs" (lines 3578-3586)
test "commonmark_spec_paragraphs_223" {
    const allocator = testing.allocator;
    const markdown = "aaa\n             bbb\n                                       ccc\n";
    const expected_html = "<p>aaa\nbbb\nccc</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 224 from section "Paragraphs" (lines 3592-3598)
test "commonmark_spec_paragraphs_224" {
    const allocator = testing.allocator;
    const markdown = "   aaa\nbbb\n";
    const expected_html = "<p>aaa\nbbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 225 from section "Paragraphs" (lines 3601-3608)
test "commonmark_spec_paragraphs_225" {
    const allocator = testing.allocator;
    const markdown = "    aaa\nbbb\n";
    const expected_html = "<pre><code>aaa\n</code></pre>\n<p>bbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 226 from section "Paragraphs" (lines 3615-3621)
test "commonmark_spec_paragraphs_226" {
    const allocator = testing.allocator;
    const markdown = "aaa     \nbbb     \n";
    const expected_html = "<p>aaa<br />\nbbb</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 227 from section "Blank lines" (lines 3632-3644)
test "commonmark_spec_blank_lines_227" {
    const allocator = testing.allocator;
    const markdown = "  \n\naaa\n  \n\n# aaa\n\n  \n";
    const expected_html = "<p>aaa</p>\n<h1>aaa</h1>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 228 from section "Block quotes" (lines 3700-3710)
test "commonmark_spec_block_quotes_228" {
    const allocator = testing.allocator;
    const markdown = "> # Foo\n> bar\n> baz\n";
    const expected_html = "<blockquote>\n<h1>Foo</h1>\n<p>bar\nbaz</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 229 from section "Block quotes" (lines 3715-3725)
test "commonmark_spec_block_quotes_229" {
    const allocator = testing.allocator;
    const markdown = "># Foo\n>bar\n> baz\n";
    const expected_html = "<blockquote>\n<h1>Foo</h1>\n<p>bar\nbaz</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 230 from section "Block quotes" (lines 3730-3740)
test "commonmark_spec_block_quotes_230" {
    const allocator = testing.allocator;
    const markdown = "   > # Foo\n   > bar\n > baz\n";
    const expected_html = "<blockquote>\n<h1>Foo</h1>\n<p>bar\nbaz</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 231 from section "Block quotes" (lines 3745-3754)
test "commonmark_spec_block_quotes_231" {
    const allocator = testing.allocator;
    const markdown = "    > # Foo\n    > bar\n    > baz\n";
    const expected_html = "<pre><code>&gt; # Foo\n&gt; bar\n&gt; baz\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 232 from section "Block quotes" (lines 3760-3770)
test "commonmark_spec_block_quotes_232" {
    const allocator = testing.allocator;
    const markdown = "> # Foo\n> bar\nbaz\n";
    const expected_html = "<blockquote>\n<h1>Foo</h1>\n<p>bar\nbaz</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 233 from section "Block quotes" (lines 3776-3786)
test "commonmark_spec_block_quotes_233" {
    const allocator = testing.allocator;
    const markdown = "> bar\nbaz\n> foo\n";
    const expected_html = "<blockquote>\n<p>bar\nbaz\nfoo</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 234 from section "Block quotes" (lines 3800-3808)
test "commonmark_spec_block_quotes_234" {
    const allocator = testing.allocator;
    const markdown = "> foo\n---\n";
    const expected_html = "<blockquote>\n<p>foo</p>\n</blockquote>\n<hr />\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 235 from section "Block quotes" (lines 3820-3832)
test "commonmark_spec_block_quotes_235" {
    const allocator = testing.allocator;
    const markdown = "> - foo\n- bar\n";
    const expected_html = "<blockquote>\n<ul>\n<li>foo</li>\n</ul>\n</blockquote>\n<ul>\n<li>bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 236 from section "Block quotes" (lines 3838-3848)
test "commonmark_spec_block_quotes_236" {
    const allocator = testing.allocator;
    const markdown = ">     foo\n    bar\n";
    const expected_html = "<blockquote>\n<pre><code>foo\n</code></pre>\n</blockquote>\n<pre><code>bar\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 237 from section "Block quotes" (lines 3851-3861)
test "commonmark_spec_block_quotes_237" {
    const allocator = testing.allocator;
    const markdown = "> ```\nfoo\n```\n";
    const expected_html = "<blockquote>\n<pre><code></code></pre>\n</blockquote>\n<p>foo</p>\n<pre><code></code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 238 from section "Block quotes" (lines 3867-3875)
test "commonmark_spec_block_quotes_238" {
    const allocator = testing.allocator;
    const markdown = "> foo\n    - bar\n";
    const expected_html = "<blockquote>\n<p>foo\n- bar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 239 from section "Block quotes" (lines 3891-3896)
test "commonmark_spec_block_quotes_239" {
    const allocator = testing.allocator;
    const markdown = ">\n";
    const expected_html = "<blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 240 from section "Block quotes" (lines 3899-3906)
test "commonmark_spec_block_quotes_240" {
    const allocator = testing.allocator;
    const markdown = ">\n>  \n> \n";
    const expected_html = "<blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 241 from section "Block quotes" (lines 3911-3919)
test "commonmark_spec_block_quotes_241" {
    const allocator = testing.allocator;
    const markdown = ">\n> foo\n>  \n";
    const expected_html = "<blockquote>\n<p>foo</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 242 from section "Block quotes" (lines 3924-3935)
test "commonmark_spec_block_quotes_242" {
    const allocator = testing.allocator;
    const markdown = "> foo\n\n> bar\n";
    const expected_html = "<blockquote>\n<p>foo</p>\n</blockquote>\n<blockquote>\n<p>bar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 243 from section "Block quotes" (lines 3946-3954)
test "commonmark_spec_block_quotes_243" {
    const allocator = testing.allocator;
    const markdown = "> foo\n> bar\n";
    const expected_html = "<blockquote>\n<p>foo\nbar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 244 from section "Block quotes" (lines 3959-3968)
test "commonmark_spec_block_quotes_244" {
    const allocator = testing.allocator;
    const markdown = "> foo\n>\n> bar\n";
    const expected_html = "<blockquote>\n<p>foo</p>\n<p>bar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 245 from section "Block quotes" (lines 3973-3981)
test "commonmark_spec_block_quotes_245" {
    const allocator = testing.allocator;
    const markdown = "foo\n> bar\n";
    const expected_html = "<p>foo</p>\n<blockquote>\n<p>bar</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 246 from section "Block quotes" (lines 3987-3999)
test "commonmark_spec_block_quotes_246" {
    const allocator = testing.allocator;
    const markdown = "> aaa\n***\n> bbb\n";
    const expected_html = "<blockquote>\n<p>aaa</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>bbb</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 247 from section "Block quotes" (lines 4005-4013)
test "commonmark_spec_block_quotes_247" {
    const allocator = testing.allocator;
    const markdown = "> bar\nbaz\n";
    const expected_html = "<blockquote>\n<p>bar\nbaz</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 248 from section "Block quotes" (lines 4016-4025)
test "commonmark_spec_block_quotes_248" {
    const allocator = testing.allocator;
    const markdown = "> bar\n\nbaz\n";
    const expected_html = "<blockquote>\n<p>bar</p>\n</blockquote>\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 249 from section "Block quotes" (lines 4028-4037)
test "commonmark_spec_block_quotes_249" {
    const allocator = testing.allocator;
    const markdown = "> bar\n>\nbaz\n";
    const expected_html = "<blockquote>\n<p>bar</p>\n</blockquote>\n<p>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 250 from section "Block quotes" (lines 4044-4056)
test "commonmark_spec_block_quotes_250" {
    const allocator = testing.allocator;
    const markdown = "> > > foo\nbar\n";
    const expected_html = "<blockquote>\n<blockquote>\n<blockquote>\n<p>foo\nbar</p>\n</blockquote>\n</blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 251 from section "Block quotes" (lines 4059-4073)
test "commonmark_spec_block_quotes_251" {
    const allocator = testing.allocator;
    const markdown = ">>> foo\n> bar\n>>baz\n";
    const expected_html = "<blockquote>\n<blockquote>\n<blockquote>\n<p>foo\nbar\nbaz</p>\n</blockquote>\n</blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 252 from section "Block quotes" (lines 4081-4093)
test "commonmark_spec_block_quotes_252" {
    const allocator = testing.allocator;
    const markdown = ">     code\n\n>    not code\n";
    const expected_html = "<blockquote>\n<pre><code>code\n</code></pre>\n</blockquote>\n<blockquote>\n<p>not code</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 253 from section "List items" (lines 4135-4150)
test "commonmark_spec_list_items_253" {
    const allocator = testing.allocator;
    const markdown = "A paragraph\nwith two lines.\n\n    indented code\n\n> A block quote.\n";
    const expected_html = "<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 254 from section "List items" (lines 4157-4176)
test "commonmark_spec_list_items_254" {
    const allocator = testing.allocator;
    const markdown = "1.  A paragraph\n    with two lines.\n\n        indented code\n\n    > A block quote.\n";
    const expected_html = "<ol>\n<li>\n<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 255 from section "List items" (lines 4190-4199)
test "commonmark_spec_list_items_255" {
    const allocator = testing.allocator;
    const markdown = "- one\n\n two\n";
    const expected_html = "<ul>\n<li>one</li>\n</ul>\n<p>two</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 256 from section "List items" (lines 4202-4213)
test "commonmark_spec_list_items_256" {
    const allocator = testing.allocator;
    const markdown = "- one\n\n  two\n";
    const expected_html = "<ul>\n<li>\n<p>one</p>\n<p>two</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 257 from section "List items" (lines 4216-4226)
test "commonmark_spec_list_items_257" {
    const allocator = testing.allocator;
    const markdown = " -    one\n\n     two\n";
    const expected_html = "<ul>\n<li>one</li>\n</ul>\n<pre><code> two\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 258 from section "List items" (lines 4229-4240)
test "commonmark_spec_list_items_258" {
    const allocator = testing.allocator;
    const markdown = " -    one\n\n      two\n";
    const expected_html = "<ul>\n<li>\n<p>one</p>\n<p>two</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 259 from section "List items" (lines 4251-4266)
test "commonmark_spec_list_items_259" {
    const allocator = testing.allocator;
    const markdown = "   > > 1.  one\n>>\n>>     two\n";
    const expected_html = "<blockquote>\n<blockquote>\n<ol>\n<li>\n<p>one</p>\n<p>two</p>\n</li>\n</ol>\n</blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 260 from section "List items" (lines 4278-4291)
test "commonmark_spec_list_items_260" {
    const allocator = testing.allocator;
    const markdown = ">>- one\n>>\n  >  > two\n";
    const expected_html = "<blockquote>\n<blockquote>\n<ul>\n<li>one</li>\n</ul>\n<p>two</p>\n</blockquote>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 261 from section "List items" (lines 4297-4304)
test "commonmark_spec_list_items_261" {
    const allocator = testing.allocator;
    const markdown = "-one\n\n2.two\n";
    const expected_html = "<p>-one</p>\n<p>2.two</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 262 from section "List items" (lines 4310-4322)
test "commonmark_spec_list_items_262" {
    const allocator = testing.allocator;
    const markdown = "- foo\n\n\n  bar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<p>bar</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 263 from section "List items" (lines 4327-4349)
test "commonmark_spec_list_items_263" {
    const allocator = testing.allocator;
    const markdown = "1.  foo\n\n    ```\n    bar\n    ```\n\n    baz\n\n    > bam\n";
    const expected_html = "<ol>\n<li>\n<p>foo</p>\n<pre><code>bar\n</code></pre>\n<p>baz</p>\n<blockquote>\n<p>bam</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 264 from section "List items" (lines 4355-4373)
test "commonmark_spec_list_items_264" {
    const allocator = testing.allocator;
    const markdown = "- Foo\n\n      bar\n\n\n      baz\n";
    const expected_html = "<ul>\n<li>\n<p>Foo</p>\n<pre><code>bar\n\n\nbaz\n</code></pre>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 265 from section "List items" (lines 4377-4383)
test "commonmark_spec_list_items_265" {
    const allocator = testing.allocator;
    const markdown = "123456789. ok\n";
    const expected_html = "<ol start=\"123456789\">\n<li>ok</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 266 from section "List items" (lines 4386-4390)
test "commonmark_spec_list_items_266" {
    const allocator = testing.allocator;
    const markdown = "1234567890. not ok\n";
    const expected_html = "<p>1234567890. not ok</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 267 from section "List items" (lines 4395-4401)
test "commonmark_spec_list_items_267" {
    const allocator = testing.allocator;
    const markdown = "0. ok\n";
    const expected_html = "<ol start=\"0\">\n<li>ok</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 268 from section "List items" (lines 4404-4410)
test "commonmark_spec_list_items_268" {
    const allocator = testing.allocator;
    const markdown = "003. ok\n";
    const expected_html = "<ol start=\"3\">\n<li>ok</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 269 from section "List items" (lines 4415-4419)
test "commonmark_spec_list_items_269" {
    const allocator = testing.allocator;
    const markdown = "-1. not ok\n";
    const expected_html = "<p>-1. not ok</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 270 from section "List items" (lines 4438-4450)
test "commonmark_spec_list_items_270" {
    const allocator = testing.allocator;
    const markdown = "- foo\n\n      bar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<pre><code>bar\n</code></pre>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 271 from section "List items" (lines 4455-4467)
test "commonmark_spec_list_items_271" {
    const allocator = testing.allocator;
    const markdown = "  10.  foo\n\n           bar\n";
    const expected_html = "<ol start=\"10\">\n<li>\n<p>foo</p>\n<pre><code>bar\n</code></pre>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 272 from section "List items" (lines 4474-4486)
test "commonmark_spec_list_items_272" {
    const allocator = testing.allocator;
    const markdown = "    indented code\n\nparagraph\n\n    more code\n";
    const expected_html = "<pre><code>indented code\n</code></pre>\n<p>paragraph</p>\n<pre><code>more code\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 273 from section "List items" (lines 4489-4505)
test "commonmark_spec_list_items_273" {
    const allocator = testing.allocator;
    const markdown = "1.     indented code\n\n   paragraph\n\n       more code\n";
    const expected_html = "<ol>\n<li>\n<pre><code>indented code\n</code></pre>\n<p>paragraph</p>\n<pre><code>more code\n</code></pre>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 274 from section "List items" (lines 4511-4527)
test "commonmark_spec_list_items_274" {
    const allocator = testing.allocator;
    const markdown = "1.      indented code\n\n   paragraph\n\n       more code\n";
    const expected_html = "<ol>\n<li>\n<pre><code> indented code\n</code></pre>\n<p>paragraph</p>\n<pre><code>more code\n</code></pre>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 275 from section "List items" (lines 4538-4545)
test "commonmark_spec_list_items_275" {
    const allocator = testing.allocator;
    const markdown = "   foo\n\nbar\n";
    const expected_html = "<p>foo</p>\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 276 from section "List items" (lines 4548-4557)
test "commonmark_spec_list_items_276" {
    const allocator = testing.allocator;
    const markdown = "-    foo\n\n  bar\n";
    const expected_html = "<ul>\n<li>foo</li>\n</ul>\n<p>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 277 from section "List items" (lines 4565-4576)
test "commonmark_spec_list_items_277" {
    const allocator = testing.allocator;
    const markdown = "-  foo\n\n   bar\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<p>bar</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 278 from section "List items" (lines 4592-4613)
test "commonmark_spec_list_items_278" {
    const allocator = testing.allocator;
    const markdown = "-\n  foo\n-\n  ```\n  bar\n  ```\n-\n      baz\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li>\n<pre><code>bar\n</code></pre>\n</li>\n<li>\n<pre><code>baz\n</code></pre>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 279 from section "List items" (lines 4618-4625)
test "commonmark_spec_list_items_279" {
    const allocator = testing.allocator;
    const markdown = "-   \n  foo\n";
    const expected_html = "<ul>\n<li>foo</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 280 from section "List items" (lines 4632-4641)
test "commonmark_spec_list_items_280" {
    const allocator = testing.allocator;
    const markdown = "-\n\n  foo\n";
    const expected_html = "<ul>\n<li></li>\n</ul>\n<p>foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 281 from section "List items" (lines 4646-4656)
test "commonmark_spec_list_items_281" {
    const allocator = testing.allocator;
    const markdown = "- foo\n-\n- bar\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li></li>\n<li>bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 282 from section "List items" (lines 4661-4671)
test "commonmark_spec_list_items_282" {
    const allocator = testing.allocator;
    const markdown = "- foo\n-   \n- bar\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li></li>\n<li>bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 283 from section "List items" (lines 4676-4686)
test "commonmark_spec_list_items_283" {
    const allocator = testing.allocator;
    const markdown = "1. foo\n2.\n3. bar\n";
    const expected_html = "<ol>\n<li>foo</li>\n<li></li>\n<li>bar</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 284 from section "List items" (lines 4691-4697)
test "commonmark_spec_list_items_284" {
    const allocator = testing.allocator;
    const markdown = "*\n";
    const expected_html = "<ul>\n<li></li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 285 from section "List items" (lines 4701-4712)
test "commonmark_spec_list_items_285" {
    const allocator = testing.allocator;
    const markdown = "foo\n*\n\nfoo\n1.\n";
    const expected_html = "<p>foo\n*</p>\n<p>foo\n1.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 286 from section "List items" (lines 4723-4742)
test "commonmark_spec_list_items_286" {
    const allocator = testing.allocator;
    const markdown = " 1.  A paragraph\n     with two lines.\n\n         indented code\n\n     > A block quote.\n";
    const expected_html = "<ol>\n<li>\n<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 287 from section "List items" (lines 4747-4766)
test "commonmark_spec_list_items_287" {
    const allocator = testing.allocator;
    const markdown = "  1.  A paragraph\n      with two lines.\n\n          indented code\n\n      > A block quote.\n";
    const expected_html = "<ol>\n<li>\n<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 288 from section "List items" (lines 4771-4790)
test "commonmark_spec_list_items_288" {
    const allocator = testing.allocator;
    const markdown = "   1.  A paragraph\n       with two lines.\n\n           indented code\n\n       > A block quote.\n";
    const expected_html = "<ol>\n<li>\n<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 289 from section "List items" (lines 4795-4810)
test "commonmark_spec_list_items_289" {
    const allocator = testing.allocator;
    const markdown = "    1.  A paragraph\n        with two lines.\n\n            indented code\n\n        > A block quote.\n";
    const expected_html = "<pre><code>1.  A paragraph\n    with two lines.\n\n        indented code\n\n    &gt; A block quote.\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 290 from section "List items" (lines 4825-4844)
test "commonmark_spec_list_items_290" {
    const allocator = testing.allocator;
    const markdown = "  1.  A paragraph\nwith two lines.\n\n          indented code\n\n      > A block quote.\n";
    const expected_html = "<ol>\n<li>\n<p>A paragraph\nwith two lines.</p>\n<pre><code>indented code\n</code></pre>\n<blockquote>\n<p>A block quote.</p>\n</blockquote>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 291 from section "List items" (lines 4849-4857)
test "commonmark_spec_list_items_291" {
    const allocator = testing.allocator;
    const markdown = "  1.  A paragraph\n    with two lines.\n";
    const expected_html = "<ol>\n<li>A paragraph\nwith two lines.</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 292 from section "List items" (lines 4862-4876)
test "commonmark_spec_list_items_292" {
    const allocator = testing.allocator;
    const markdown = "> 1. > Blockquote\ncontinued here.\n";
    const expected_html = "<blockquote>\n<ol>\n<li>\n<blockquote>\n<p>Blockquote\ncontinued here.</p>\n</blockquote>\n</li>\n</ol>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 293 from section "List items" (lines 4879-4893)
test "commonmark_spec_list_items_293" {
    const allocator = testing.allocator;
    const markdown = "> 1. > Blockquote\n> continued here.\n";
    const expected_html = "<blockquote>\n<ol>\n<li>\n<blockquote>\n<p>Blockquote\ncontinued here.</p>\n</blockquote>\n</li>\n</ol>\n</blockquote>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 294 from section "List items" (lines 4907-4928)
test "commonmark_spec_list_items_294" {
    const allocator = testing.allocator;
    const markdown = "- foo\n  - bar\n    - baz\n      - boo\n";
    const expected_html = "<ul>\n<li>foo\n<ul>\n<li>bar\n<ul>\n<li>baz\n<ul>\n<li>boo</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 295 from section "List items" (lines 4933-4945)
test "commonmark_spec_list_items_295" {
    const allocator = testing.allocator;
    const markdown = "- foo\n - bar\n  - baz\n   - boo\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li>bar</li>\n<li>baz</li>\n<li>boo</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 296 from section "List items" (lines 4950-4961)
test "commonmark_spec_list_items_296" {
    const allocator = testing.allocator;
    const markdown = "10) foo\n    - bar\n";
    const expected_html = "<ol start=\"10\">\n<li>foo\n<ul>\n<li>bar</li>\n</ul>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 297 from section "List items" (lines 4966-4976)
test "commonmark_spec_list_items_297" {
    const allocator = testing.allocator;
    const markdown = "10) foo\n   - bar\n";
    const expected_html = "<ol start=\"10\">\n<li>foo</li>\n</ol>\n<ul>\n<li>bar</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 298 from section "List items" (lines 4981-4991)
test "commonmark_spec_list_items_298" {
    const allocator = testing.allocator;
    const markdown = "- - foo\n";
    const expected_html = "<ul>\n<li>\n<ul>\n<li>foo</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 299 from section "List items" (lines 4994-5008)
test "commonmark_spec_list_items_299" {
    const allocator = testing.allocator;
    const markdown = "1. - 2. foo\n";
    const expected_html = "<ol>\n<li>\n<ul>\n<li>\n<ol start=\"2\">\n<li>foo</li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 300 from section "List items" (lines 5013-5027)
test "commonmark_spec_list_items_300" {
    const allocator = testing.allocator;
    const markdown = "- # Foo\n- Bar\n  ---\n  baz\n";
    const expected_html = "<ul>\n<li>\n<h1>Foo</h1>\n</li>\n<li>\n<h2>Bar</h2>\nbaz</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 301 from section "Lists" (lines 5249-5261)
test "commonmark_spec_lists_301" {
    const allocator = testing.allocator;
    const markdown = "- foo\n- bar\n+ baz\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li>bar</li>\n</ul>\n<ul>\n<li>baz</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 302 from section "Lists" (lines 5264-5276)
test "commonmark_spec_lists_302" {
    const allocator = testing.allocator;
    const markdown = "1. foo\n2. bar\n3) baz\n";
    const expected_html = "<ol>\n<li>foo</li>\n<li>bar</li>\n</ol>\n<ol start=\"3\">\n<li>baz</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 303 from section "Lists" (lines 5283-5293)
test "commonmark_spec_lists_303" {
    const allocator = testing.allocator;
    const markdown = "Foo\n- bar\n- baz\n";
    const expected_html = "<p>Foo</p>\n<ul>\n<li>bar</li>\n<li>baz</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 304 from section "Lists" (lines 5360-5366)
test "commonmark_spec_lists_304" {
    const allocator = testing.allocator;
    const markdown = "The number of windows in my house is\n14.  The number of doors is 6.\n";
    const expected_html = "<p>The number of windows in my house is\n14.  The number of doors is 6.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 305 from section "Lists" (lines 5370-5378)
test "commonmark_spec_lists_305" {
    const allocator = testing.allocator;
    const markdown = "The number of windows in my house is\n1.  The number of doors is 6.\n";
    const expected_html = "<p>The number of windows in my house is</p>\n<ol>\n<li>The number of doors is 6.</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 306 from section "Lists" (lines 5384-5403)
test "commonmark_spec_lists_306" {
    const allocator = testing.allocator;
    const markdown = "- foo\n\n- bar\n\n\n- baz\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n</li>\n<li>\n<p>bar</p>\n</li>\n<li>\n<p>baz</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 307 from section "Lists" (lines 5405-5427)
test "commonmark_spec_lists_307" {
    const allocator = testing.allocator;
    const markdown = "- foo\n  - bar\n    - baz\n\n\n      bim\n";
    const expected_html = "<ul>\n<li>foo\n<ul>\n<li>bar\n<ul>\n<li>\n<p>baz</p>\n<p>bim</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 308 from section "Lists" (lines 5435-5453)
test "commonmark_spec_lists_308" {
    const allocator = testing.allocator;
    const markdown = "- foo\n- bar\n\n<!-- -->\n\n- baz\n- bim\n";
    const expected_html = "<ul>\n<li>foo</li>\n<li>bar</li>\n</ul>\n<!-- -->\n<ul>\n<li>baz</li>\n<li>bim</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 309 from section "Lists" (lines 5456-5479)
test "commonmark_spec_lists_309" {
    const allocator = testing.allocator;
    const markdown = "-   foo\n\n    notcode\n\n-   foo\n\n<!-- -->\n\n    code\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<p>notcode</p>\n</li>\n<li>\n<p>foo</p>\n</li>\n</ul>\n<!-- -->\n<pre><code>code\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 310 from section "Lists" (lines 5487-5505)
test "commonmark_spec_lists_310" {
    const allocator = testing.allocator;
    const markdown = "- a\n - b\n  - c\n   - d\n  - e\n - f\n- g\n";
    const expected_html = "<ul>\n<li>a</li>\n<li>b</li>\n<li>c</li>\n<li>d</li>\n<li>e</li>\n<li>f</li>\n<li>g</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 311 from section "Lists" (lines 5508-5526)
test "commonmark_spec_lists_311" {
    const allocator = testing.allocator;
    const markdown = "1. a\n\n  2. b\n\n   3. c\n";
    const expected_html = "<ol>\n<li>\n<p>a</p>\n</li>\n<li>\n<p>b</p>\n</li>\n<li>\n<p>c</p>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 312 from section "Lists" (lines 5532-5546)
test "commonmark_spec_lists_312" {
    const allocator = testing.allocator;
    const markdown = "- a\n - b\n  - c\n   - d\n    - e\n";
    const expected_html = "<ul>\n<li>a</li>\n<li>b</li>\n<li>c</li>\n<li>d\n- e</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 313 from section "Lists" (lines 5552-5569)
test "commonmark_spec_lists_313" {
    const allocator = testing.allocator;
    const markdown = "1. a\n\n  2. b\n\n    3. c\n";
    const expected_html = "<ol>\n<li>\n<p>a</p>\n</li>\n<li>\n<p>b</p>\n</li>\n</ol>\n<pre><code>3. c\n</code></pre>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 314 from section "Lists" (lines 5575-5592)
test "commonmark_spec_lists_314" {
    const allocator = testing.allocator;
    const markdown = "- a\n- b\n\n- c\n";
    const expected_html = "<ul>\n<li>\n<p>a</p>\n</li>\n<li>\n<p>b</p>\n</li>\n<li>\n<p>c</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 315 from section "Lists" (lines 5597-5612)
test "commonmark_spec_lists_315" {
    const allocator = testing.allocator;
    const markdown = "* a\n*\n\n* c\n";
    const expected_html = "<ul>\n<li>\n<p>a</p>\n</li>\n<li></li>\n<li>\n<p>c</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 316 from section "Lists" (lines 5619-5638)
test "commonmark_spec_lists_316" {
    const allocator = testing.allocator;
    const markdown = "- a\n- b\n\n  c\n- d\n";
    const expected_html = "<ul>\n<li>\n<p>a</p>\n</li>\n<li>\n<p>b</p>\n<p>c</p>\n</li>\n<li>\n<p>d</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 317 from section "Lists" (lines 5641-5659)
test "commonmark_spec_lists_317" {
    const allocator = testing.allocator;
    const markdown = "- a\n- b\n\n  [ref]: /url\n- d\n";
    const expected_html = "<ul>\n<li>\n<p>a</p>\n</li>\n<li>\n<p>b</p>\n</li>\n<li>\n<p>d</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 318 from section "Lists" (lines 5664-5683)
test "commonmark_spec_lists_318" {
    const allocator = testing.allocator;
    const markdown = "- a\n- ```\n  b\n\n\n  ```\n- c\n";
    const expected_html = "<ul>\n<li>a</li>\n<li>\n<pre><code>b\n\n\n</code></pre>\n</li>\n<li>c</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 319 from section "Lists" (lines 5690-5708)
test "commonmark_spec_lists_319" {
    const allocator = testing.allocator;
    const markdown = "- a\n  - b\n\n    c\n- d\n";
    const expected_html = "<ul>\n<li>a\n<ul>\n<li>\n<p>b</p>\n<p>c</p>\n</li>\n</ul>\n</li>\n<li>d</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 320 from section "Lists" (lines 5714-5728)
test "commonmark_spec_lists_320" {
    const allocator = testing.allocator;
    const markdown = "* a\n  > b\n  >\n* c\n";
    const expected_html = "<ul>\n<li>a\n<blockquote>\n<p>b</p>\n</blockquote>\n</li>\n<li>c</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 321 from section "Lists" (lines 5734-5752)
test "commonmark_spec_lists_321" {
    const allocator = testing.allocator;
    const markdown = "- a\n  > b\n  ```\n  c\n  ```\n- d\n";
    const expected_html = "<ul>\n<li>a\n<blockquote>\n<p>b</p>\n</blockquote>\n<pre><code>c\n</code></pre>\n</li>\n<li>d</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 322 from section "Lists" (lines 5757-5763)
test "commonmark_spec_lists_322" {
    const allocator = testing.allocator;
    const markdown = "- a\n";
    const expected_html = "<ul>\n<li>a</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 323 from section "Lists" (lines 5766-5777)
test "commonmark_spec_lists_323" {
    const allocator = testing.allocator;
    const markdown = "- a\n  - b\n";
    const expected_html = "<ul>\n<li>a\n<ul>\n<li>b</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 324 from section "Lists" (lines 5783-5797)
test "commonmark_spec_lists_324" {
    const allocator = testing.allocator;
    const markdown = "1. ```\n   foo\n   ```\n\n   bar\n";
    const expected_html = "<ol>\n<li>\n<pre><code>foo\n</code></pre>\n<p>bar</p>\n</li>\n</ol>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 325 from section "Lists" (lines 5802-5817)
test "commonmark_spec_lists_325" {
    const allocator = testing.allocator;
    const markdown = "* foo\n  * bar\n\n  baz\n";
    const expected_html = "<ul>\n<li>\n<p>foo</p>\n<ul>\n<li>bar</li>\n</ul>\n<p>baz</p>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 326 from section "Lists" (lines 5820-5845)
test "commonmark_spec_lists_326" {
    const allocator = testing.allocator;
    const markdown = "- a\n  - b\n  - c\n\n- d\n  - e\n  - f\n";
    const expected_html = "<ul>\n<li>\n<p>a</p>\n<ul>\n<li>b</li>\n<li>c</li>\n</ul>\n</li>\n<li>\n<p>d</p>\n<ul>\n<li>e</li>\n<li>f</li>\n</ul>\n</li>\n</ul>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 327 from section "Inlines" (lines 5854-5858)
test "commonmark_spec_inlines_327" {
    const allocator = testing.allocator;
    const markdown = "`hi`lo`\n";
    const expected_html = "<p><code>hi</code>lo`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 328 from section "Code spans" (lines 5886-5890)
test "commonmark_spec_code_spans_328" {
    const allocator = testing.allocator;
    const markdown = "`foo`\n";
    const expected_html = "<p><code>foo</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 329 from section "Code spans" (lines 5897-5901)
test "commonmark_spec_code_spans_329" {
    const allocator = testing.allocator;
    const markdown = "`` foo ` bar ``\n";
    const expected_html = "<p><code>foo ` bar</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 330 from section "Code spans" (lines 5907-5911)
test "commonmark_spec_code_spans_330" {
    const allocator = testing.allocator;
    const markdown = "` `` `\n";
    const expected_html = "<p><code>``</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 331 from section "Code spans" (lines 5915-5919)
test "commonmark_spec_code_spans_331" {
    const allocator = testing.allocator;
    const markdown = "`  ``  `\n";
    const expected_html = "<p><code> `` </code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 332 from section "Code spans" (lines 5924-5928)
test "commonmark_spec_code_spans_332" {
    const allocator = testing.allocator;
    const markdown = "` a`\n";
    const expected_html = "<p><code> a</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 333 from section "Code spans" (lines 5933-5937)
test "commonmark_spec_code_spans_333" {
    const allocator = testing.allocator;
    const markdown = "` b `\n";
    const expected_html = "<p><code> b </code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 334 from section "Code spans" (lines 5941-5947)
test "commonmark_spec_code_spans_334" {
    const allocator = testing.allocator;
    const markdown = "` `\n`  `\n";
    const expected_html = "<p><code> </code>\n<code>  </code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 335 from section "Code spans" (lines 5952-5960)
test "commonmark_spec_code_spans_335" {
    const allocator = testing.allocator;
    const markdown = "``\nfoo\nbar  \nbaz\n``\n";
    const expected_html = "<p><code>foo bar   baz</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 336 from section "Code spans" (lines 5962-5968)
test "commonmark_spec_code_spans_336" {
    const allocator = testing.allocator;
    const markdown = "``\nfoo \n``\n";
    const expected_html = "<p><code>foo </code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 337 from section "Code spans" (lines 5973-5978)
test "commonmark_spec_code_spans_337" {
    const allocator = testing.allocator;
    const markdown = "`foo   bar \nbaz`\n";
    const expected_html = "<p><code>foo   bar  baz</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 338 from section "Code spans" (lines 5990-5994)
test "commonmark_spec_code_spans_338" {
    const allocator = testing.allocator;
    const markdown = "`foo\\`bar`\n";
    const expected_html = "<p><code>foo\\</code>bar`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 339 from section "Code spans" (lines 6001-6005)
test "commonmark_spec_code_spans_339" {
    const allocator = testing.allocator;
    const markdown = "``foo`bar``\n";
    const expected_html = "<p><code>foo`bar</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 340 from section "Code spans" (lines 6007-6011)
test "commonmark_spec_code_spans_340" {
    const allocator = testing.allocator;
    const markdown = "` foo `` bar `\n";
    const expected_html = "<p><code>foo `` bar</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 341 from section "Code spans" (lines 6019-6023)
test "commonmark_spec_code_spans_341" {
    const allocator = testing.allocator;
    const markdown = "*foo`*`\n";
    const expected_html = "<p>*foo<code>*</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 342 from section "Code spans" (lines 6028-6032)
test "commonmark_spec_code_spans_342" {
    const allocator = testing.allocator;
    const markdown = "[not a `link](/foo`)\n";
    const expected_html = "<p>[not a <code>link](/foo</code>)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 343 from section "Code spans" (lines 6038-6042)
test "commonmark_spec_code_spans_343" {
    const allocator = testing.allocator;
    const markdown = "`<a href=\"`\">`\n";
    const expected_html = "<p><code>&lt;a href=&quot;</code>&quot;&gt;`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 344 from section "Code spans" (lines 6047-6051)
test "commonmark_spec_code_spans_344" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"`\">`\n";
    const expected_html = "<p><a href=\"`\">`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 345 from section "Code spans" (lines 6056-6060)
test "commonmark_spec_code_spans_345" {
    const allocator = testing.allocator;
    const markdown = "`<https://foo.bar.`baz>`\n";
    const expected_html = "<p><code>&lt;https://foo.bar.</code>baz&gt;`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 346 from section "Code spans" (lines 6065-6069)
test "commonmark_spec_code_spans_346" {
    const allocator = testing.allocator;
    const markdown = "<https://foo.bar.`baz>`\n";
    const expected_html = "<p><a href=\"https://foo.bar.%60baz\">https://foo.bar.`baz</a>`</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 347 from section "Code spans" (lines 6075-6079)
test "commonmark_spec_code_spans_347" {
    const allocator = testing.allocator;
    const markdown = "```foo``\n";
    const expected_html = "<p>```foo``</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 348 from section "Code spans" (lines 6082-6086)
test "commonmark_spec_code_spans_348" {
    const allocator = testing.allocator;
    const markdown = "`foo\n";
    const expected_html = "<p>`foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 349 from section "Code spans" (lines 6091-6095)
test "commonmark_spec_code_spans_349" {
    const allocator = testing.allocator;
    const markdown = "`foo``bar``\n";
    const expected_html = "<p>`foo<code>bar</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 350 from section "Emphasis and strong emphasis" (lines 6308-6312)
test "commonmark_spec_emphasis_and_strong_emphasis_350" {
    const allocator = testing.allocator;
    const markdown = "*foo bar*\n";
    const expected_html = "<p><em>foo bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 351 from section "Emphasis and strong emphasis" (lines 6318-6322)
test "commonmark_spec_emphasis_and_strong_emphasis_351" {
    const allocator = testing.allocator;
    const markdown = "a * foo bar*\n";
    const expected_html = "<p>a * foo bar*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 352 from section "Emphasis and strong emphasis" (lines 6329-6333)
test "commonmark_spec_emphasis_and_strong_emphasis_352" {
    const allocator = testing.allocator;
    const markdown = "a*\"foo\"*\n";
    const expected_html = "<p>a*&quot;foo&quot;*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 353 from section "Emphasis and strong emphasis" (lines 6338-6342)
test "commonmark_spec_emphasis_and_strong_emphasis_353" {
    const allocator = testing.allocator;
    const markdown = "* a *\n";
    const expected_html = "<p>* a *</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 354 from section "Emphasis and strong emphasis" (lines 6347-6357)
test "commonmark_spec_emphasis_and_strong_emphasis_354" {
    const allocator = testing.allocator;
    const markdown = "*$*alpha.\n\n*£*bravo.\n\n*€*charlie.\n";
    const expected_html = "<p>*$*alpha.</p>\n<p>*£*bravo.</p>\n<p>*€*charlie.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 355 from section "Emphasis and strong emphasis" (lines 6362-6366)
test "commonmark_spec_emphasis_and_strong_emphasis_355" {
    const allocator = testing.allocator;
    const markdown = "foo*bar*\n";
    const expected_html = "<p>foo<em>bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 356 from section "Emphasis and strong emphasis" (lines 6369-6373)
test "commonmark_spec_emphasis_and_strong_emphasis_356" {
    const allocator = testing.allocator;
    const markdown = "5*6*78\n";
    const expected_html = "<p>5<em>6</em>78</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 357 from section "Emphasis and strong emphasis" (lines 6378-6382)
test "commonmark_spec_emphasis_and_strong_emphasis_357" {
    const allocator = testing.allocator;
    const markdown = "_foo bar_\n";
    const expected_html = "<p><em>foo bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 358 from section "Emphasis and strong emphasis" (lines 6388-6392)
test "commonmark_spec_emphasis_and_strong_emphasis_358" {
    const allocator = testing.allocator;
    const markdown = "_ foo bar_\n";
    const expected_html = "<p>_ foo bar_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 359 from section "Emphasis and strong emphasis" (lines 6398-6402)
test "commonmark_spec_emphasis_and_strong_emphasis_359" {
    const allocator = testing.allocator;
    const markdown = "a_\"foo\"_\n";
    const expected_html = "<p>a_&quot;foo&quot;_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 360 from section "Emphasis and strong emphasis" (lines 6407-6411)
test "commonmark_spec_emphasis_and_strong_emphasis_360" {
    const allocator = testing.allocator;
    const markdown = "foo_bar_\n";
    const expected_html = "<p>foo_bar_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 361 from section "Emphasis and strong emphasis" (lines 6414-6418)
test "commonmark_spec_emphasis_and_strong_emphasis_361" {
    const allocator = testing.allocator;
    const markdown = "5_6_78\n";
    const expected_html = "<p>5_6_78</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 362 from section "Emphasis and strong emphasis" (lines 6421-6425)
test "commonmark_spec_emphasis_and_strong_emphasis_362" {
    const allocator = testing.allocator;
    const markdown = "пристаням_стремятся_\n";
    const expected_html = "<p>пристаням_стремятся_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 363 from section "Emphasis and strong emphasis" (lines 6431-6435)
test "commonmark_spec_emphasis_and_strong_emphasis_363" {
    const allocator = testing.allocator;
    const markdown = "aa_\"bb\"_cc\n";
    const expected_html = "<p>aa_&quot;bb&quot;_cc</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 364 from section "Emphasis and strong emphasis" (lines 6442-6446)
test "commonmark_spec_emphasis_and_strong_emphasis_364" {
    const allocator = testing.allocator;
    const markdown = "foo-_(bar)_\n";
    const expected_html = "<p>foo-<em>(bar)</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 365 from section "Emphasis and strong emphasis" (lines 6454-6458)
test "commonmark_spec_emphasis_and_strong_emphasis_365" {
    const allocator = testing.allocator;
    const markdown = "_foo*\n";
    const expected_html = "<p>_foo*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 366 from section "Emphasis and strong emphasis" (lines 6464-6468)
test "commonmark_spec_emphasis_and_strong_emphasis_366" {
    const allocator = testing.allocator;
    const markdown = "*foo bar *\n";
    const expected_html = "<p>*foo bar *</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 367 from section "Emphasis and strong emphasis" (lines 6473-6479)
test "commonmark_spec_emphasis_and_strong_emphasis_367" {
    const allocator = testing.allocator;
    const markdown = "*foo bar\n*\n";
    const expected_html = "<p>*foo bar\n*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 368 from section "Emphasis and strong emphasis" (lines 6486-6490)
test "commonmark_spec_emphasis_and_strong_emphasis_368" {
    const allocator = testing.allocator;
    const markdown = "*(*foo)\n";
    const expected_html = "<p>*(*foo)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 369 from section "Emphasis and strong emphasis" (lines 6496-6500)
test "commonmark_spec_emphasis_and_strong_emphasis_369" {
    const allocator = testing.allocator;
    const markdown = "*(*foo*)*\n";
    const expected_html = "<p><em>(<em>foo</em>)</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 370 from section "Emphasis and strong emphasis" (lines 6505-6509)
test "commonmark_spec_emphasis_and_strong_emphasis_370" {
    const allocator = testing.allocator;
    const markdown = "*foo*bar\n";
    const expected_html = "<p><em>foo</em>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 371 from section "Emphasis and strong emphasis" (lines 6518-6522)
test "commonmark_spec_emphasis_and_strong_emphasis_371" {
    const allocator = testing.allocator;
    const markdown = "_foo bar _\n";
    const expected_html = "<p>_foo bar _</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 372 from section "Emphasis and strong emphasis" (lines 6528-6532)
test "commonmark_spec_emphasis_and_strong_emphasis_372" {
    const allocator = testing.allocator;
    const markdown = "_(_foo)\n";
    const expected_html = "<p>_(_foo)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 373 from section "Emphasis and strong emphasis" (lines 6537-6541)
test "commonmark_spec_emphasis_and_strong_emphasis_373" {
    const allocator = testing.allocator;
    const markdown = "_(_foo_)_\n";
    const expected_html = "<p><em>(<em>foo</em>)</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 374 from section "Emphasis and strong emphasis" (lines 6546-6550)
test "commonmark_spec_emphasis_and_strong_emphasis_374" {
    const allocator = testing.allocator;
    const markdown = "_foo_bar\n";
    const expected_html = "<p>_foo_bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 375 from section "Emphasis and strong emphasis" (lines 6553-6557)
test "commonmark_spec_emphasis_and_strong_emphasis_375" {
    const allocator = testing.allocator;
    const markdown = "_пристаням_стремятся\n";
    const expected_html = "<p>_пристаням_стремятся</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 376 from section "Emphasis and strong emphasis" (lines 6560-6564)
test "commonmark_spec_emphasis_and_strong_emphasis_376" {
    const allocator = testing.allocator;
    const markdown = "_foo_bar_baz_\n";
    const expected_html = "<p><em>foo_bar_baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 377 from section "Emphasis and strong emphasis" (lines 6571-6575)
test "commonmark_spec_emphasis_and_strong_emphasis_377" {
    const allocator = testing.allocator;
    const markdown = "_(bar)_.\n";
    const expected_html = "<p><em>(bar)</em>.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 378 from section "Emphasis and strong emphasis" (lines 6580-6584)
test "commonmark_spec_emphasis_and_strong_emphasis_378" {
    const allocator = testing.allocator;
    const markdown = "**foo bar**\n";
    const expected_html = "<p><strong>foo bar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 379 from section "Emphasis and strong emphasis" (lines 6590-6594)
test "commonmark_spec_emphasis_and_strong_emphasis_379" {
    const allocator = testing.allocator;
    const markdown = "** foo bar**\n";
    const expected_html = "<p>** foo bar**</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 380 from section "Emphasis and strong emphasis" (lines 6601-6605)
test "commonmark_spec_emphasis_and_strong_emphasis_380" {
    const allocator = testing.allocator;
    const markdown = "a**\"foo\"**\n";
    const expected_html = "<p>a**&quot;foo&quot;**</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 381 from section "Emphasis and strong emphasis" (lines 6610-6614)
test "commonmark_spec_emphasis_and_strong_emphasis_381" {
    const allocator = testing.allocator;
    const markdown = "foo**bar**\n";
    const expected_html = "<p>foo<strong>bar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 382 from section "Emphasis and strong emphasis" (lines 6619-6623)
test "commonmark_spec_emphasis_and_strong_emphasis_382" {
    const allocator = testing.allocator;
    const markdown = "__foo bar__\n";
    const expected_html = "<p><strong>foo bar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 383 from section "Emphasis and strong emphasis" (lines 6629-6633)
test "commonmark_spec_emphasis_and_strong_emphasis_383" {
    const allocator = testing.allocator;
    const markdown = "__ foo bar__\n";
    const expected_html = "<p>__ foo bar__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 384 from section "Emphasis and strong emphasis" (lines 6637-6643)
test "commonmark_spec_emphasis_and_strong_emphasis_384" {
    const allocator = testing.allocator;
    const markdown = "__\nfoo bar__\n";
    const expected_html = "<p>__\nfoo bar__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 385 from section "Emphasis and strong emphasis" (lines 6649-6653)
test "commonmark_spec_emphasis_and_strong_emphasis_385" {
    const allocator = testing.allocator;
    const markdown = "a__\"foo\"__\n";
    const expected_html = "<p>a__&quot;foo&quot;__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 386 from section "Emphasis and strong emphasis" (lines 6658-6662)
test "commonmark_spec_emphasis_and_strong_emphasis_386" {
    const allocator = testing.allocator;
    const markdown = "foo__bar__\n";
    const expected_html = "<p>foo__bar__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 387 from section "Emphasis and strong emphasis" (lines 6665-6669)
test "commonmark_spec_emphasis_and_strong_emphasis_387" {
    const allocator = testing.allocator;
    const markdown = "5__6__78\n";
    const expected_html = "<p>5__6__78</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 388 from section "Emphasis and strong emphasis" (lines 6672-6676)
test "commonmark_spec_emphasis_and_strong_emphasis_388" {
    const allocator = testing.allocator;
    const markdown = "пристаням__стремятся__\n";
    const expected_html = "<p>пристаням__стремятся__</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 389 from section "Emphasis and strong emphasis" (lines 6679-6683)
test "commonmark_spec_emphasis_and_strong_emphasis_389" {
    const allocator = testing.allocator;
    const markdown = "__foo, __bar__, baz__\n";
    const expected_html = "<p><strong>foo, <strong>bar</strong>, baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 390 from section "Emphasis and strong emphasis" (lines 6690-6694)
test "commonmark_spec_emphasis_and_strong_emphasis_390" {
    const allocator = testing.allocator;
    const markdown = "foo-__(bar)__\n";
    const expected_html = "<p>foo-<strong>(bar)</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 391 from section "Emphasis and strong emphasis" (lines 6703-6707)
test "commonmark_spec_emphasis_and_strong_emphasis_391" {
    const allocator = testing.allocator;
    const markdown = "**foo bar **\n";
    const expected_html = "<p>**foo bar **</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 392 from section "Emphasis and strong emphasis" (lines 6716-6720)
test "commonmark_spec_emphasis_and_strong_emphasis_392" {
    const allocator = testing.allocator;
    const markdown = "**(**foo)\n";
    const expected_html = "<p>**(**foo)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 393 from section "Emphasis and strong emphasis" (lines 6726-6730)
test "commonmark_spec_emphasis_and_strong_emphasis_393" {
    const allocator = testing.allocator;
    const markdown = "*(**foo**)*\n";
    const expected_html = "<p><em>(<strong>foo</strong>)</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 394 from section "Emphasis and strong emphasis" (lines 6733-6739)
test "commonmark_spec_emphasis_and_strong_emphasis_394" {
    const allocator = testing.allocator;
    const markdown = "**Gomphocarpus (*Gomphocarpus physocarpus*, syn.\n*Asclepias physocarpa*)**\n";
    const expected_html = "<p><strong>Gomphocarpus (<em>Gomphocarpus physocarpus</em>, syn.\n<em>Asclepias physocarpa</em>)</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 395 from section "Emphasis and strong emphasis" (lines 6742-6746)
test "commonmark_spec_emphasis_and_strong_emphasis_395" {
    const allocator = testing.allocator;
    const markdown = "**foo \"*bar*\" foo**\n";
    const expected_html = "<p><strong>foo &quot;<em>bar</em>&quot; foo</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 396 from section "Emphasis and strong emphasis" (lines 6751-6755)
test "commonmark_spec_emphasis_and_strong_emphasis_396" {
    const allocator = testing.allocator;
    const markdown = "**foo**bar\n";
    const expected_html = "<p><strong>foo</strong>bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 397 from section "Emphasis and strong emphasis" (lines 6763-6767)
test "commonmark_spec_emphasis_and_strong_emphasis_397" {
    const allocator = testing.allocator;
    const markdown = "__foo bar __\n";
    const expected_html = "<p>__foo bar __</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 398 from section "Emphasis and strong emphasis" (lines 6773-6777)
test "commonmark_spec_emphasis_and_strong_emphasis_398" {
    const allocator = testing.allocator;
    const markdown = "__(__foo)\n";
    const expected_html = "<p>__(__foo)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 399 from section "Emphasis and strong emphasis" (lines 6783-6787)
test "commonmark_spec_emphasis_and_strong_emphasis_399" {
    const allocator = testing.allocator;
    const markdown = "_(__foo__)_\n";
    const expected_html = "<p><em>(<strong>foo</strong>)</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 400 from section "Emphasis and strong emphasis" (lines 6792-6796)
test "commonmark_spec_emphasis_and_strong_emphasis_400" {
    const allocator = testing.allocator;
    const markdown = "__foo__bar\n";
    const expected_html = "<p>__foo__bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 401 from section "Emphasis and strong emphasis" (lines 6799-6803)
test "commonmark_spec_emphasis_and_strong_emphasis_401" {
    const allocator = testing.allocator;
    const markdown = "__пристаням__стремятся\n";
    const expected_html = "<p>__пристаням__стремятся</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 402 from section "Emphasis and strong emphasis" (lines 6806-6810)
test "commonmark_spec_emphasis_and_strong_emphasis_402" {
    const allocator = testing.allocator;
    const markdown = "__foo__bar__baz__\n";
    const expected_html = "<p><strong>foo__bar__baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 403 from section "Emphasis and strong emphasis" (lines 6817-6821)
test "commonmark_spec_emphasis_and_strong_emphasis_403" {
    const allocator = testing.allocator;
    const markdown = "__(bar)__.\n";
    const expected_html = "<p><strong>(bar)</strong>.</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 404 from section "Emphasis and strong emphasis" (lines 6829-6833)
test "commonmark_spec_emphasis_and_strong_emphasis_404" {
    const allocator = testing.allocator;
    const markdown = "*foo [bar](/url)*\n";
    const expected_html = "<p><em>foo <a href=\"/url\">bar</a></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 405 from section "Emphasis and strong emphasis" (lines 6836-6842)
test "commonmark_spec_emphasis_and_strong_emphasis_405" {
    const allocator = testing.allocator;
    const markdown = "*foo\nbar*\n";
    const expected_html = "<p><em>foo\nbar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 406 from section "Emphasis and strong emphasis" (lines 6848-6852)
test "commonmark_spec_emphasis_and_strong_emphasis_406" {
    const allocator = testing.allocator;
    const markdown = "_foo __bar__ baz_\n";
    const expected_html = "<p><em>foo <strong>bar</strong> baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 407 from section "Emphasis and strong emphasis" (lines 6855-6859)
test "commonmark_spec_emphasis_and_strong_emphasis_407" {
    const allocator = testing.allocator;
    const markdown = "_foo _bar_ baz_\n";
    const expected_html = "<p><em>foo <em>bar</em> baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 408 from section "Emphasis and strong emphasis" (lines 6862-6866)
test "commonmark_spec_emphasis_and_strong_emphasis_408" {
    const allocator = testing.allocator;
    const markdown = "__foo_ bar_\n";
    const expected_html = "<p><em><em>foo</em> bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 409 from section "Emphasis and strong emphasis" (lines 6869-6873)
test "commonmark_spec_emphasis_and_strong_emphasis_409" {
    const allocator = testing.allocator;
    const markdown = "*foo *bar**\n";
    const expected_html = "<p><em>foo <em>bar</em></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 410 from section "Emphasis and strong emphasis" (lines 6876-6880)
test "commonmark_spec_emphasis_and_strong_emphasis_410" {
    const allocator = testing.allocator;
    const markdown = "*foo **bar** baz*\n";
    const expected_html = "<p><em>foo <strong>bar</strong> baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 411 from section "Emphasis and strong emphasis" (lines 6882-6886)
test "commonmark_spec_emphasis_and_strong_emphasis_411" {
    const allocator = testing.allocator;
    const markdown = "*foo**bar**baz*\n";
    const expected_html = "<p><em>foo<strong>bar</strong>baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 412 from section "Emphasis and strong emphasis" (lines 6906-6910)
test "commonmark_spec_emphasis_and_strong_emphasis_412" {
    const allocator = testing.allocator;
    const markdown = "*foo**bar*\n";
    const expected_html = "<p><em>foo**bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 413 from section "Emphasis and strong emphasis" (lines 6919-6923)
test "commonmark_spec_emphasis_and_strong_emphasis_413" {
    const allocator = testing.allocator;
    const markdown = "***foo** bar*\n";
    const expected_html = "<p><em><strong>foo</strong> bar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 414 from section "Emphasis and strong emphasis" (lines 6926-6930)
test "commonmark_spec_emphasis_and_strong_emphasis_414" {
    const allocator = testing.allocator;
    const markdown = "*foo **bar***\n";
    const expected_html = "<p><em>foo <strong>bar</strong></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 415 from section "Emphasis and strong emphasis" (lines 6933-6937)
test "commonmark_spec_emphasis_and_strong_emphasis_415" {
    const allocator = testing.allocator;
    const markdown = "*foo**bar***\n";
    const expected_html = "<p><em>foo<strong>bar</strong></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 416 from section "Emphasis and strong emphasis" (lines 6944-6948)
test "commonmark_spec_emphasis_and_strong_emphasis_416" {
    const allocator = testing.allocator;
    const markdown = "foo***bar***baz\n";
    const expected_html = "<p>foo<em><strong>bar</strong></em>baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 417 from section "Emphasis and strong emphasis" (lines 6950-6954)
test "commonmark_spec_emphasis_and_strong_emphasis_417" {
    const allocator = testing.allocator;
    const markdown = "foo******bar*********baz\n";
    const expected_html = "<p>foo<strong><strong><strong>bar</strong></strong></strong>***baz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 418 from section "Emphasis and strong emphasis" (lines 6959-6963)
test "commonmark_spec_emphasis_and_strong_emphasis_418" {
    const allocator = testing.allocator;
    const markdown = "*foo **bar *baz* bim** bop*\n";
    const expected_html = "<p><em>foo <strong>bar <em>baz</em> bim</strong> bop</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 419 from section "Emphasis and strong emphasis" (lines 6966-6970)
test "commonmark_spec_emphasis_and_strong_emphasis_419" {
    const allocator = testing.allocator;
    const markdown = "*foo [*bar*](/url)*\n";
    const expected_html = "<p><em>foo <a href=\"/url\"><em>bar</em></a></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 420 from section "Emphasis and strong emphasis" (lines 6975-6979)
test "commonmark_spec_emphasis_and_strong_emphasis_420" {
    const allocator = testing.allocator;
    const markdown = "** is not an empty emphasis\n";
    const expected_html = "<p>** is not an empty emphasis</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 421 from section "Emphasis and strong emphasis" (lines 6982-6986)
test "commonmark_spec_emphasis_and_strong_emphasis_421" {
    const allocator = testing.allocator;
    const markdown = "**** is not an empty strong emphasis\n";
    const expected_html = "<p>**** is not an empty strong emphasis</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 422 from section "Emphasis and strong emphasis" (lines 6995-6999)
test "commonmark_spec_emphasis_and_strong_emphasis_422" {
    const allocator = testing.allocator;
    const markdown = "**foo [bar](/url)**\n";
    const expected_html = "<p><strong>foo <a href=\"/url\">bar</a></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 423 from section "Emphasis and strong emphasis" (lines 7002-7008)
test "commonmark_spec_emphasis_and_strong_emphasis_423" {
    const allocator = testing.allocator;
    const markdown = "**foo\nbar**\n";
    const expected_html = "<p><strong>foo\nbar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 424 from section "Emphasis and strong emphasis" (lines 7014-7018)
test "commonmark_spec_emphasis_and_strong_emphasis_424" {
    const allocator = testing.allocator;
    const markdown = "__foo _bar_ baz__\n";
    const expected_html = "<p><strong>foo <em>bar</em> baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 425 from section "Emphasis and strong emphasis" (lines 7021-7025)
test "commonmark_spec_emphasis_and_strong_emphasis_425" {
    const allocator = testing.allocator;
    const markdown = "__foo __bar__ baz__\n";
    const expected_html = "<p><strong>foo <strong>bar</strong> baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 426 from section "Emphasis and strong emphasis" (lines 7028-7032)
test "commonmark_spec_emphasis_and_strong_emphasis_426" {
    const allocator = testing.allocator;
    const markdown = "____foo__ bar__\n";
    const expected_html = "<p><strong><strong>foo</strong> bar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 427 from section "Emphasis and strong emphasis" (lines 7035-7039)
test "commonmark_spec_emphasis_and_strong_emphasis_427" {
    const allocator = testing.allocator;
    const markdown = "**foo **bar****\n";
    const expected_html = "<p><strong>foo <strong>bar</strong></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 428 from section "Emphasis and strong emphasis" (lines 7042-7046)
test "commonmark_spec_emphasis_and_strong_emphasis_428" {
    const allocator = testing.allocator;
    const markdown = "**foo *bar* baz**\n";
    const expected_html = "<p><strong>foo <em>bar</em> baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 429 from section "Emphasis and strong emphasis" (lines 7049-7053)
test "commonmark_spec_emphasis_and_strong_emphasis_429" {
    const allocator = testing.allocator;
    const markdown = "**foo*bar*baz**\n";
    const expected_html = "<p><strong>foo<em>bar</em>baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 430 from section "Emphasis and strong emphasis" (lines 7056-7060)
test "commonmark_spec_emphasis_and_strong_emphasis_430" {
    const allocator = testing.allocator;
    const markdown = "***foo* bar**\n";
    const expected_html = "<p><strong><em>foo</em> bar</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 431 from section "Emphasis and strong emphasis" (lines 7063-7067)
test "commonmark_spec_emphasis_and_strong_emphasis_431" {
    const allocator = testing.allocator;
    const markdown = "**foo *bar***\n";
    const expected_html = "<p><strong>foo <em>bar</em></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 432 from section "Emphasis and strong emphasis" (lines 7072-7078)
test "commonmark_spec_emphasis_and_strong_emphasis_432" {
    const allocator = testing.allocator;
    const markdown = "**foo *bar **baz**\nbim* bop**\n";
    const expected_html = "<p><strong>foo <em>bar <strong>baz</strong>\nbim</em> bop</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 433 from section "Emphasis and strong emphasis" (lines 7081-7085)
test "commonmark_spec_emphasis_and_strong_emphasis_433" {
    const allocator = testing.allocator;
    const markdown = "**foo [*bar*](/url)**\n";
    const expected_html = "<p><strong>foo <a href=\"/url\"><em>bar</em></a></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 434 from section "Emphasis and strong emphasis" (lines 7090-7094)
test "commonmark_spec_emphasis_and_strong_emphasis_434" {
    const allocator = testing.allocator;
    const markdown = "__ is not an empty emphasis\n";
    const expected_html = "<p>__ is not an empty emphasis</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 435 from section "Emphasis and strong emphasis" (lines 7097-7101)
test "commonmark_spec_emphasis_and_strong_emphasis_435" {
    const allocator = testing.allocator;
    const markdown = "____ is not an empty strong emphasis\n";
    const expected_html = "<p>____ is not an empty strong emphasis</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 436 from section "Emphasis and strong emphasis" (lines 7107-7111)
test "commonmark_spec_emphasis_and_strong_emphasis_436" {
    const allocator = testing.allocator;
    const markdown = "foo ***\n";
    const expected_html = "<p>foo ***</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 437 from section "Emphasis and strong emphasis" (lines 7114-7118)
test "commonmark_spec_emphasis_and_strong_emphasis_437" {
    const allocator = testing.allocator;
    const markdown = "foo *\\**\n";
    const expected_html = "<p>foo <em>*</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 438 from section "Emphasis and strong emphasis" (lines 7121-7125)
test "commonmark_spec_emphasis_and_strong_emphasis_438" {
    const allocator = testing.allocator;
    const markdown = "foo *_*\n";
    const expected_html = "<p>foo <em>_</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 439 from section "Emphasis and strong emphasis" (lines 7128-7132)
test "commonmark_spec_emphasis_and_strong_emphasis_439" {
    const allocator = testing.allocator;
    const markdown = "foo *****\n";
    const expected_html = "<p>foo *****</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 440 from section "Emphasis and strong emphasis" (lines 7135-7139)
test "commonmark_spec_emphasis_and_strong_emphasis_440" {
    const allocator = testing.allocator;
    const markdown = "foo **\\***\n";
    const expected_html = "<p>foo <strong>*</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 441 from section "Emphasis and strong emphasis" (lines 7142-7146)
test "commonmark_spec_emphasis_and_strong_emphasis_441" {
    const allocator = testing.allocator;
    const markdown = "foo **_**\n";
    const expected_html = "<p>foo <strong>_</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 442 from section "Emphasis and strong emphasis" (lines 7153-7157)
test "commonmark_spec_emphasis_and_strong_emphasis_442" {
    const allocator = testing.allocator;
    const markdown = "**foo*\n";
    const expected_html = "<p>*<em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 443 from section "Emphasis and strong emphasis" (lines 7160-7164)
test "commonmark_spec_emphasis_and_strong_emphasis_443" {
    const allocator = testing.allocator;
    const markdown = "*foo**\n";
    const expected_html = "<p><em>foo</em>*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 444 from section "Emphasis and strong emphasis" (lines 7167-7171)
test "commonmark_spec_emphasis_and_strong_emphasis_444" {
    const allocator = testing.allocator;
    const markdown = "***foo**\n";
    const expected_html = "<p>*<strong>foo</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 445 from section "Emphasis and strong emphasis" (lines 7174-7178)
test "commonmark_spec_emphasis_and_strong_emphasis_445" {
    const allocator = testing.allocator;
    const markdown = "****foo*\n";
    const expected_html = "<p>***<em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 446 from section "Emphasis and strong emphasis" (lines 7181-7185)
test "commonmark_spec_emphasis_and_strong_emphasis_446" {
    const allocator = testing.allocator;
    const markdown = "**foo***\n";
    const expected_html = "<p><strong>foo</strong>*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 447 from section "Emphasis and strong emphasis" (lines 7188-7192)
test "commonmark_spec_emphasis_and_strong_emphasis_447" {
    const allocator = testing.allocator;
    const markdown = "*foo****\n";
    const expected_html = "<p><em>foo</em>***</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 448 from section "Emphasis and strong emphasis" (lines 7198-7202)
test "commonmark_spec_emphasis_and_strong_emphasis_448" {
    const allocator = testing.allocator;
    const markdown = "foo ___\n";
    const expected_html = "<p>foo ___</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 449 from section "Emphasis and strong emphasis" (lines 7205-7209)
test "commonmark_spec_emphasis_and_strong_emphasis_449" {
    const allocator = testing.allocator;
    const markdown = "foo _\\__\n";
    const expected_html = "<p>foo <em>_</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 450 from section "Emphasis and strong emphasis" (lines 7212-7216)
test "commonmark_spec_emphasis_and_strong_emphasis_450" {
    const allocator = testing.allocator;
    const markdown = "foo _*_\n";
    const expected_html = "<p>foo <em>*</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 451 from section "Emphasis and strong emphasis" (lines 7219-7223)
test "commonmark_spec_emphasis_and_strong_emphasis_451" {
    const allocator = testing.allocator;
    const markdown = "foo _____\n";
    const expected_html = "<p>foo _____</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 452 from section "Emphasis and strong emphasis" (lines 7226-7230)
test "commonmark_spec_emphasis_and_strong_emphasis_452" {
    const allocator = testing.allocator;
    const markdown = "foo __\\___\n";
    const expected_html = "<p>foo <strong>_</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 453 from section "Emphasis and strong emphasis" (lines 7233-7237)
test "commonmark_spec_emphasis_and_strong_emphasis_453" {
    const allocator = testing.allocator;
    const markdown = "foo __*__\n";
    const expected_html = "<p>foo <strong>*</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 454 from section "Emphasis and strong emphasis" (lines 7240-7244)
test "commonmark_spec_emphasis_and_strong_emphasis_454" {
    const allocator = testing.allocator;
    const markdown = "__foo_\n";
    const expected_html = "<p>_<em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 455 from section "Emphasis and strong emphasis" (lines 7251-7255)
test "commonmark_spec_emphasis_and_strong_emphasis_455" {
    const allocator = testing.allocator;
    const markdown = "_foo__\n";
    const expected_html = "<p><em>foo</em>_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 456 from section "Emphasis and strong emphasis" (lines 7258-7262)
test "commonmark_spec_emphasis_and_strong_emphasis_456" {
    const allocator = testing.allocator;
    const markdown = "___foo__\n";
    const expected_html = "<p>_<strong>foo</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 457 from section "Emphasis and strong emphasis" (lines 7265-7269)
test "commonmark_spec_emphasis_and_strong_emphasis_457" {
    const allocator = testing.allocator;
    const markdown = "____foo_\n";
    const expected_html = "<p>___<em>foo</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 458 from section "Emphasis and strong emphasis" (lines 7272-7276)
test "commonmark_spec_emphasis_and_strong_emphasis_458" {
    const allocator = testing.allocator;
    const markdown = "__foo___\n";
    const expected_html = "<p><strong>foo</strong>_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 459 from section "Emphasis and strong emphasis" (lines 7279-7283)
test "commonmark_spec_emphasis_and_strong_emphasis_459" {
    const allocator = testing.allocator;
    const markdown = "_foo____\n";
    const expected_html = "<p><em>foo</em>___</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 460 from section "Emphasis and strong emphasis" (lines 7289-7293)
test "commonmark_spec_emphasis_and_strong_emphasis_460" {
    const allocator = testing.allocator;
    const markdown = "**foo**\n";
    const expected_html = "<p><strong>foo</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 461 from section "Emphasis and strong emphasis" (lines 7296-7300)
test "commonmark_spec_emphasis_and_strong_emphasis_461" {
    const allocator = testing.allocator;
    const markdown = "*_foo_*\n";
    const expected_html = "<p><em><em>foo</em></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 462 from section "Emphasis and strong emphasis" (lines 7303-7307)
test "commonmark_spec_emphasis_and_strong_emphasis_462" {
    const allocator = testing.allocator;
    const markdown = "__foo__\n";
    const expected_html = "<p><strong>foo</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 463 from section "Emphasis and strong emphasis" (lines 7310-7314)
test "commonmark_spec_emphasis_and_strong_emphasis_463" {
    const allocator = testing.allocator;
    const markdown = "_*foo*_\n";
    const expected_html = "<p><em><em>foo</em></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 464 from section "Emphasis and strong emphasis" (lines 7320-7324)
test "commonmark_spec_emphasis_and_strong_emphasis_464" {
    const allocator = testing.allocator;
    const markdown = "****foo****\n";
    const expected_html = "<p><strong><strong>foo</strong></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 465 from section "Emphasis and strong emphasis" (lines 7327-7331)
test "commonmark_spec_emphasis_and_strong_emphasis_465" {
    const allocator = testing.allocator;
    const markdown = "____foo____\n";
    const expected_html = "<p><strong><strong>foo</strong></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 466 from section "Emphasis and strong emphasis" (lines 7338-7342)
test "commonmark_spec_emphasis_and_strong_emphasis_466" {
    const allocator = testing.allocator;
    const markdown = "******foo******\n";
    const expected_html = "<p><strong><strong><strong>foo</strong></strong></strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 467 from section "Emphasis and strong emphasis" (lines 7347-7351)
test "commonmark_spec_emphasis_and_strong_emphasis_467" {
    const allocator = testing.allocator;
    const markdown = "***foo***\n";
    const expected_html = "<p><em><strong>foo</strong></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 468 from section "Emphasis and strong emphasis" (lines 7354-7358)
test "commonmark_spec_emphasis_and_strong_emphasis_468" {
    const allocator = testing.allocator;
    const markdown = "_____foo_____\n";
    const expected_html = "<p><em><strong><strong>foo</strong></strong></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 469 from section "Emphasis and strong emphasis" (lines 7363-7367)
test "commonmark_spec_emphasis_and_strong_emphasis_469" {
    const allocator = testing.allocator;
    const markdown = "*foo _bar* baz_\n";
    const expected_html = "<p><em>foo _bar</em> baz_</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 470 from section "Emphasis and strong emphasis" (lines 7370-7374)
test "commonmark_spec_emphasis_and_strong_emphasis_470" {
    const allocator = testing.allocator;
    const markdown = "*foo __bar *baz bim__ bam*\n";
    const expected_html = "<p><em>foo <strong>bar *baz bim</strong> bam</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 471 from section "Emphasis and strong emphasis" (lines 7379-7383)
test "commonmark_spec_emphasis_and_strong_emphasis_471" {
    const allocator = testing.allocator;
    const markdown = "**foo **bar baz**\n";
    const expected_html = "<p>**foo <strong>bar baz</strong></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 472 from section "Emphasis and strong emphasis" (lines 7386-7390)
test "commonmark_spec_emphasis_and_strong_emphasis_472" {
    const allocator = testing.allocator;
    const markdown = "*foo *bar baz*\n";
    const expected_html = "<p>*foo <em>bar baz</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 473 from section "Emphasis and strong emphasis" (lines 7395-7399)
test "commonmark_spec_emphasis_and_strong_emphasis_473" {
    const allocator = testing.allocator;
    const markdown = "*[bar*](/url)\n";
    const expected_html = "<p>*<a href=\"/url\">bar*</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 474 from section "Emphasis and strong emphasis" (lines 7402-7406)
test "commonmark_spec_emphasis_and_strong_emphasis_474" {
    const allocator = testing.allocator;
    const markdown = "_foo [bar_](/url)\n";
    const expected_html = "<p>_foo <a href=\"/url\">bar_</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 475 from section "Emphasis and strong emphasis" (lines 7409-7413)
test "commonmark_spec_emphasis_and_strong_emphasis_475" {
    const allocator = testing.allocator;
    const markdown = "*<img src=\"foo\" title=\"*\"/>\n";
    const expected_html = "<p>*<img src=\"foo\" title=\"*\"/></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 476 from section "Emphasis and strong emphasis" (lines 7416-7420)
test "commonmark_spec_emphasis_and_strong_emphasis_476" {
    const allocator = testing.allocator;
    const markdown = "**<a href=\"**\">\n";
    const expected_html = "<p>**<a href=\"**\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 477 from section "Emphasis and strong emphasis" (lines 7423-7427)
test "commonmark_spec_emphasis_and_strong_emphasis_477" {
    const allocator = testing.allocator;
    const markdown = "__<a href=\"__\">\n";
    const expected_html = "<p>__<a href=\"__\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 478 from section "Emphasis and strong emphasis" (lines 7430-7434)
test "commonmark_spec_emphasis_and_strong_emphasis_478" {
    const allocator = testing.allocator;
    const markdown = "*a `*`*\n";
    const expected_html = "<p><em>a <code>*</code></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 479 from section "Emphasis and strong emphasis" (lines 7437-7441)
test "commonmark_spec_emphasis_and_strong_emphasis_479" {
    const allocator = testing.allocator;
    const markdown = "_a `_`_\n";
    const expected_html = "<p><em>a <code>_</code></em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 480 from section "Emphasis and strong emphasis" (lines 7444-7448)
test "commonmark_spec_emphasis_and_strong_emphasis_480" {
    const allocator = testing.allocator;
    const markdown = "**a<https://foo.bar/?q=**>\n";
    const expected_html = "<p>**a<a href=\"https://foo.bar/?q=**\">https://foo.bar/?q=**</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 481 from section "Emphasis and strong emphasis" (lines 7451-7455)
test "commonmark_spec_emphasis_and_strong_emphasis_481" {
    const allocator = testing.allocator;
    const markdown = "__a<https://foo.bar/?q=__>\n";
    const expected_html = "<p>__a<a href=\"https://foo.bar/?q=__\">https://foo.bar/?q=__</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 482 from section "Links" (lines 7539-7543)
test "commonmark_spec_links_482" {
    const allocator = testing.allocator;
    const markdown = "[link](/uri \"title\")\n";
    const expected_html = "<p><a href=\"/uri\" title=\"title\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 483 from section "Links" (lines 7549-7553)
test "commonmark_spec_links_483" {
    const allocator = testing.allocator;
    const markdown = "[link](/uri)\n";
    const expected_html = "<p><a href=\"/uri\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 484 from section "Links" (lines 7555-7559)
test "commonmark_spec_links_484" {
    const allocator = testing.allocator;
    const markdown = "[](./target.md)\n";
    const expected_html = "<p><a href=\"./target.md\"></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 485 from section "Links" (lines 7562-7566)
test "commonmark_spec_links_485" {
    const allocator = testing.allocator;
    const markdown = "[link]()\n";
    const expected_html = "<p><a href=\"\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 486 from section "Links" (lines 7569-7573)
test "commonmark_spec_links_486" {
    const allocator = testing.allocator;
    const markdown = "[link](<>)\n";
    const expected_html = "<p><a href=\"\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 487 from section "Links" (lines 7576-7580)
test "commonmark_spec_links_487" {
    const allocator = testing.allocator;
    const markdown = "[]()\n";
    const expected_html = "<p><a href=\"\"></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 488 from section "Links" (lines 7585-7589)
test "commonmark_spec_links_488" {
    const allocator = testing.allocator;
    const markdown = "[link](/my uri)\n";
    const expected_html = "<p>[link](/my uri)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 489 from section "Links" (lines 7591-7595)
test "commonmark_spec_links_489" {
    const allocator = testing.allocator;
    const markdown = "[link](</my uri>)\n";
    const expected_html = "<p><a href=\"/my%20uri\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 490 from section "Links" (lines 7600-7606)
test "commonmark_spec_links_490" {
    const allocator = testing.allocator;
    const markdown = "[link](foo\nbar)\n";
    const expected_html = "<p>[link](foo\nbar)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 491 from section "Links" (lines 7608-7614)
test "commonmark_spec_links_491" {
    const allocator = testing.allocator;
    const markdown = "[link](<foo\nbar>)\n";
    const expected_html = "<p>[link](<foo\nbar>)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 492 from section "Links" (lines 7619-7623)
test "commonmark_spec_links_492" {
    const allocator = testing.allocator;
    const markdown = "[a](<b)c>)\n";
    const expected_html = "<p><a href=\"b)c\">a</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 493 from section "Links" (lines 7627-7631)
test "commonmark_spec_links_493" {
    const allocator = testing.allocator;
    const markdown = "[link](<foo\\>)\n";
    const expected_html = "<p>[link](&lt;foo&gt;)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 494 from section "Links" (lines 7636-7644)
test "commonmark_spec_links_494" {
    const allocator = testing.allocator;
    const markdown = "[a](<b)c\n[a](<b)c>\n[a](<b>c)\n";
    const expected_html = "<p>[a](&lt;b)c\n[a](&lt;b)c&gt;\n[a](<b>c)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 495 from section "Links" (lines 7648-7652)
test "commonmark_spec_links_495" {
    const allocator = testing.allocator;
    const markdown = "[link](\\(foo\\))\n";
    const expected_html = "<p><a href=\"(foo)\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 496 from section "Links" (lines 7657-7661)
test "commonmark_spec_links_496" {
    const allocator = testing.allocator;
    const markdown = "[link](foo(and(bar)))\n";
    const expected_html = "<p><a href=\"foo(and(bar))\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 497 from section "Links" (lines 7666-7670)
test "commonmark_spec_links_497" {
    const allocator = testing.allocator;
    const markdown = "[link](foo(and(bar))\n";
    const expected_html = "<p>[link](foo(and(bar))</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 498 from section "Links" (lines 7673-7677)
test "commonmark_spec_links_498" {
    const allocator = testing.allocator;
    const markdown = "[link](foo\\(and\\(bar\\))\n";
    const expected_html = "<p><a href=\"foo(and(bar)\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 499 from section "Links" (lines 7680-7684)
test "commonmark_spec_links_499" {
    const allocator = testing.allocator;
    const markdown = "[link](<foo(and(bar)>)\n";
    const expected_html = "<p><a href=\"foo(and(bar)\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 500 from section "Links" (lines 7690-7694)
test "commonmark_spec_links_500" {
    const allocator = testing.allocator;
    const markdown = "[link](foo\\)\\:)\n";
    const expected_html = "<p><a href=\"foo):\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 501 from section "Links" (lines 7699-7709)
test "commonmark_spec_links_501" {
    const allocator = testing.allocator;
    const markdown = "[link](#fragment)\n\n[link](https://example.com#fragment)\n\n[link](https://example.com?foo=3#frag)\n";
    const expected_html = "<p><a href=\"#fragment\">link</a></p>\n<p><a href=\"https://example.com#fragment\">link</a></p>\n<p><a href=\"https://example.com?foo=3#frag\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 502 from section "Links" (lines 7715-7719)
test "commonmark_spec_links_502" {
    const allocator = testing.allocator;
    const markdown = "[link](foo\\bar)\n";
    const expected_html = "<p><a href=\"foo%5Cbar\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 503 from section "Links" (lines 7731-7735)
test "commonmark_spec_links_503" {
    const allocator = testing.allocator;
    const markdown = "[link](foo%20b&auml;)\n";
    const expected_html = "<p><a href=\"foo%20b%C3%A4\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 504 from section "Links" (lines 7742-7746)
test "commonmark_spec_links_504" {
    const allocator = testing.allocator;
    const markdown = "[link](\"title\")\n";
    const expected_html = "<p><a href=\"%22title%22\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 505 from section "Links" (lines 7751-7759)
test "commonmark_spec_links_505" {
    const allocator = testing.allocator;
    const markdown = "[link](/url \"title\")\n[link](/url 'title')\n[link](/url (title))\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">link</a>\n<a href=\"/url\" title=\"title\">link</a>\n<a href=\"/url\" title=\"title\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 506 from section "Links" (lines 7765-7769)
test "commonmark_spec_links_506" {
    const allocator = testing.allocator;
    const markdown = "[link](/url \"title \\\"&quot;\")\n";
    const expected_html = "<p><a href=\"/url\" title=\"title &quot;&quot;\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 507 from section "Links" (lines 7776-7780)
test "commonmark_spec_links_507" {
    const allocator = testing.allocator;
    const markdown = "[link](/url \"title\")\n";
    const expected_html = "<p><a href=\"/url%C2%A0%22title%22\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 508 from section "Links" (lines 7785-7789)
test "commonmark_spec_links_508" {
    const allocator = testing.allocator;
    const markdown = "[link](/url \"title \"and\" title\")\n";
    const expected_html = "<p>[link](/url &quot;title &quot;and&quot; title&quot;)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 509 from section "Links" (lines 7794-7798)
test "commonmark_spec_links_509" {
    const allocator = testing.allocator;
    const markdown = "[link](/url 'title \"and\" title')\n";
    const expected_html = "<p><a href=\"/url\" title=\"title &quot;and&quot; title\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 510 from section "Links" (lines 7819-7824)
test "commonmark_spec_links_510" {
    const allocator = testing.allocator;
    const markdown = "[link](   /uri\n  \"title\"  )\n";
    const expected_html = "<p><a href=\"/uri\" title=\"title\">link</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 511 from section "Links" (lines 7830-7834)
test "commonmark_spec_links_511" {
    const allocator = testing.allocator;
    const markdown = "[link] (/uri)\n";
    const expected_html = "<p>[link] (/uri)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 512 from section "Links" (lines 7840-7844)
test "commonmark_spec_links_512" {
    const allocator = testing.allocator;
    const markdown = "[link [foo [bar]]](/uri)\n";
    const expected_html = "<p><a href=\"/uri\">link [foo [bar]]</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 513 from section "Links" (lines 7847-7851)
test "commonmark_spec_links_513" {
    const allocator = testing.allocator;
    const markdown = "[link] bar](/uri)\n";
    const expected_html = "<p>[link] bar](/uri)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 514 from section "Links" (lines 7854-7858)
test "commonmark_spec_links_514" {
    const allocator = testing.allocator;
    const markdown = "[link [bar](/uri)\n";
    const expected_html = "<p>[link <a href=\"/uri\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 515 from section "Links" (lines 7861-7865)
test "commonmark_spec_links_515" {
    const allocator = testing.allocator;
    const markdown = "[link \\[bar](/uri)\n";
    const expected_html = "<p><a href=\"/uri\">link [bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 516 from section "Links" (lines 7870-7874)
test "commonmark_spec_links_516" {
    const allocator = testing.allocator;
    const markdown = "[link *foo **bar** `#`*](/uri)\n";
    const expected_html = "<p><a href=\"/uri\">link <em>foo <strong>bar</strong> <code>#</code></em></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 517 from section "Links" (lines 7877-7881)
test "commonmark_spec_links_517" {
    const allocator = testing.allocator;
    const markdown = "[![moon](moon.jpg)](/uri)\n";
    const expected_html = "<p><a href=\"/uri\"><img src=\"moon.jpg\" alt=\"moon\" /></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 518 from section "Links" (lines 7886-7890)
test "commonmark_spec_links_518" {
    const allocator = testing.allocator;
    const markdown = "[foo [bar](/uri)](/uri)\n";
    const expected_html = "<p>[foo <a href=\"/uri\">bar</a>](/uri)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 519 from section "Links" (lines 7893-7897)
test "commonmark_spec_links_519" {
    const allocator = testing.allocator;
    const markdown = "[foo *[bar [baz](/uri)](/uri)*](/uri)\n";
    const expected_html = "<p>[foo <em>[bar <a href=\"/uri\">baz</a>](/uri)</em>](/uri)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 520 from section "Links" (lines 7900-7904)
test "commonmark_spec_links_520" {
    const allocator = testing.allocator;
    const markdown = "![[[foo](uri1)](uri2)](uri3)\n";
    const expected_html = "<p><img src=\"uri3\" alt=\"[foo](uri2)\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 521 from section "Links" (lines 7910-7914)
test "commonmark_spec_links_521" {
    const allocator = testing.allocator;
    const markdown = "*[foo*](/uri)\n";
    const expected_html = "<p>*<a href=\"/uri\">foo*</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 522 from section "Links" (lines 7917-7921)
test "commonmark_spec_links_522" {
    const allocator = testing.allocator;
    const markdown = "[foo *bar](baz*)\n";
    const expected_html = "<p><a href=\"baz*\">foo *bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 523 from section "Links" (lines 7927-7931)
test "commonmark_spec_links_523" {
    const allocator = testing.allocator;
    const markdown = "*foo [bar* baz]\n";
    const expected_html = "<p><em>foo [bar</em> baz]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 524 from section "Links" (lines 7937-7941)
test "commonmark_spec_links_524" {
    const allocator = testing.allocator;
    const markdown = "[foo <bar attr=\"](baz)\">\n";
    const expected_html = "<p>[foo <bar attr=\"](baz)\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 525 from section "Links" (lines 7944-7948)
test "commonmark_spec_links_525" {
    const allocator = testing.allocator;
    const markdown = "[foo`](/uri)`\n";
    const expected_html = "<p>[foo<code>](/uri)</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 526 from section "Links" (lines 7951-7955)
test "commonmark_spec_links_526" {
    const allocator = testing.allocator;
    const markdown = "[foo<https://example.com/?search=](uri)>\n";
    const expected_html = "<p>[foo<a href=\"https://example.com/?search=%5D(uri)\">https://example.com/?search=](uri)</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 527 from section "Links" (lines 7989-7995)
test "commonmark_spec_links_527" {
    const allocator = testing.allocator;
    const markdown = "[foo][bar]\n\n[bar]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 528 from section "Links" (lines 8004-8010)
test "commonmark_spec_links_528" {
    const allocator = testing.allocator;
    const markdown = "[link [foo [bar]]][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p><a href=\"/uri\">link [foo [bar]]</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 529 from section "Links" (lines 8013-8019)
test "commonmark_spec_links_529" {
    const allocator = testing.allocator;
    const markdown = "[link \\[bar][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p><a href=\"/uri\">link [bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 530 from section "Links" (lines 8024-8030)
test "commonmark_spec_links_530" {
    const allocator = testing.allocator;
    const markdown = "[link *foo **bar** `#`*][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p><a href=\"/uri\">link <em>foo <strong>bar</strong> <code>#</code></em></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 531 from section "Links" (lines 8033-8039)
test "commonmark_spec_links_531" {
    const allocator = testing.allocator;
    const markdown = "[![moon](moon.jpg)][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p><a href=\"/uri\"><img src=\"moon.jpg\" alt=\"moon\" /></a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 532 from section "Links" (lines 8044-8050)
test "commonmark_spec_links_532" {
    const allocator = testing.allocator;
    const markdown = "[foo [bar](/uri)][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p>[foo <a href=\"/uri\">bar</a>]<a href=\"/uri\">ref</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 533 from section "Links" (lines 8053-8059)
test "commonmark_spec_links_533" {
    const allocator = testing.allocator;
    const markdown = "[foo *bar [baz][ref]*][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p>[foo <em>bar <a href=\"/uri\">baz</a></em>]<a href=\"/uri\">ref</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 534 from section "Links" (lines 8068-8074)
test "commonmark_spec_links_534" {
    const allocator = testing.allocator;
    const markdown = "*[foo*][ref]\n\n[ref]: /uri\n";
    const expected_html = "<p>*<a href=\"/uri\">foo*</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 535 from section "Links" (lines 8077-8083)
test "commonmark_spec_links_535" {
    const allocator = testing.allocator;
    const markdown = "[foo *bar][ref]*\n\n[ref]: /uri\n";
    const expected_html = "<p><a href=\"/uri\">foo *bar</a>*</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 536 from section "Links" (lines 8089-8095)
test "commonmark_spec_links_536" {
    const allocator = testing.allocator;
    const markdown = "[foo <bar attr=\"][ref]\">\n\n[ref]: /uri\n";
    const expected_html = "<p>[foo <bar attr=\"][ref]\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 537 from section "Links" (lines 8098-8104)
test "commonmark_spec_links_537" {
    const allocator = testing.allocator;
    const markdown = "[foo`][ref]`\n\n[ref]: /uri\n";
    const expected_html = "<p>[foo<code>][ref]</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 538 from section "Links" (lines 8107-8113)
test "commonmark_spec_links_538" {
    const allocator = testing.allocator;
    const markdown = "[foo<https://example.com/?search=][ref]>\n\n[ref]: /uri\n";
    const expected_html = "<p>[foo<a href=\"https://example.com/?search=%5D%5Bref%5D\">https://example.com/?search=][ref]</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 539 from section "Links" (lines 8118-8124)
test "commonmark_spec_links_539" {
    const allocator = testing.allocator;
    const markdown = "[foo][BaR]\n\n[bar]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 540 from section "Links" (lines 8129-8135)
test "commonmark_spec_links_540" {
    const allocator = testing.allocator;
    const markdown = "[ẞ]\n\n[SS]: /url\n";
    const expected_html = "<p><a href=\"/url\">ẞ</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 541 from section "Links" (lines 8141-8148)
test "commonmark_spec_links_541" {
    const allocator = testing.allocator;
    const markdown = "[Foo\n  bar]: /url\n\n[Baz][Foo bar]\n";
    const expected_html = "<p><a href=\"/url\">Baz</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 542 from section "Links" (lines 8154-8160)
test "commonmark_spec_links_542" {
    const allocator = testing.allocator;
    const markdown = "[foo] [bar]\n\n[bar]: /url \"title\"\n";
    const expected_html = "<p>[foo] <a href=\"/url\" title=\"title\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 543 from section "Links" (lines 8163-8171)
test "commonmark_spec_links_543" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n[bar]\n\n[bar]: /url \"title\"\n";
    const expected_html = "<p>[foo]\n<a href=\"/url\" title=\"title\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 544 from section "Links" (lines 8204-8212)
test "commonmark_spec_links_544" {
    const allocator = testing.allocator;
    const markdown = "[foo]: /url1\n\n[foo]: /url2\n\n[bar][foo]\n";
    const expected_html = "<p><a href=\"/url1\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 545 from section "Links" (lines 8219-8225)
test "commonmark_spec_links_545" {
    const allocator = testing.allocator;
    const markdown = "[bar][foo\\!]\n\n[foo!]: /url\n";
    const expected_html = "<p>[bar][foo!]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 546 from section "Links" (lines 8231-8238)
test "commonmark_spec_links_546" {
    const allocator = testing.allocator;
    const markdown = "[foo][ref[]\n\n[ref[]: /uri\n";
    const expected_html = "<p>[foo][ref[]</p>\n<p>[ref[]: /uri</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 547 from section "Links" (lines 8241-8248)
test "commonmark_spec_links_547" {
    const allocator = testing.allocator;
    const markdown = "[foo][ref[bar]]\n\n[ref[bar]]: /uri\n";
    const expected_html = "<p>[foo][ref[bar]]</p>\n<p>[ref[bar]]: /uri</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 548 from section "Links" (lines 8251-8258)
test "commonmark_spec_links_548" {
    const allocator = testing.allocator;
    const markdown = "[[[foo]]]\n\n[[[foo]]]: /url\n";
    const expected_html = "<p>[[[foo]]]</p>\n<p>[[[foo]]]: /url</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 549 from section "Links" (lines 8261-8267)
test "commonmark_spec_links_549" {
    const allocator = testing.allocator;
    const markdown = "[foo][ref\\[]\n\n[ref\\[]: /uri\n";
    const expected_html = "<p><a href=\"/uri\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 550 from section "Links" (lines 8272-8278)
test "commonmark_spec_links_550" {
    const allocator = testing.allocator;
    const markdown = "[bar\\\\]: /uri\n\n[bar\\\\]\n";
    const expected_html = "<p><a href=\"/uri\">bar\\</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 551 from section "Links" (lines 8284-8291)
test "commonmark_spec_links_551" {
    const allocator = testing.allocator;
    const markdown = "[]\n\n[]: /uri\n";
    const expected_html = "<p>[]</p>\n<p>[]: /uri</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 552 from section "Links" (lines 8294-8305)
test "commonmark_spec_links_552" {
    const allocator = testing.allocator;
    const markdown = "[\n ]\n\n[\n ]: /uri\n";
    const expected_html = "<p>[\n]</p>\n<p>[\n]: /uri</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 553 from section "Links" (lines 8317-8323)
test "commonmark_spec_links_553" {
    const allocator = testing.allocator;
    const markdown = "[foo][]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 554 from section "Links" (lines 8326-8332)
test "commonmark_spec_links_554" {
    const allocator = testing.allocator;
    const markdown = "[*foo* bar][]\n\n[*foo* bar]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\"><em>foo</em> bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 555 from section "Links" (lines 8337-8343)
test "commonmark_spec_links_555" {
    const allocator = testing.allocator;
    const markdown = "[Foo][]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">Foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 556 from section "Links" (lines 8350-8358)
test "commonmark_spec_links_556" {
    const allocator = testing.allocator;
    const markdown = "[foo] \n[]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a>\n[]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 557 from section "Links" (lines 8370-8376)
test "commonmark_spec_links_557" {
    const allocator = testing.allocator;
    const markdown = "[foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 558 from section "Links" (lines 8379-8385)
test "commonmark_spec_links_558" {
    const allocator = testing.allocator;
    const markdown = "[*foo* bar]\n\n[*foo* bar]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\"><em>foo</em> bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 559 from section "Links" (lines 8388-8394)
test "commonmark_spec_links_559" {
    const allocator = testing.allocator;
    const markdown = "[[*foo* bar]]\n\n[*foo* bar]: /url \"title\"\n";
    const expected_html = "<p>[<a href=\"/url\" title=\"title\"><em>foo</em> bar</a>]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 560 from section "Links" (lines 8397-8403)
test "commonmark_spec_links_560" {
    const allocator = testing.allocator;
    const markdown = "[[bar [foo]\n\n[foo]: /url\n";
    const expected_html = "<p>[[bar <a href=\"/url\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 561 from section "Links" (lines 8408-8414)
test "commonmark_spec_links_561" {
    const allocator = testing.allocator;
    const markdown = "[Foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><a href=\"/url\" title=\"title\">Foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 562 from section "Links" (lines 8419-8425)
test "commonmark_spec_links_562" {
    const allocator = testing.allocator;
    const markdown = "[foo] bar\n\n[foo]: /url\n";
    const expected_html = "<p><a href=\"/url\">foo</a> bar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 563 from section "Links" (lines 8431-8437)
test "commonmark_spec_links_563" {
    const allocator = testing.allocator;
    const markdown = "\\[foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p>[foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 564 from section "Links" (lines 8443-8449)
test "commonmark_spec_links_564" {
    const allocator = testing.allocator;
    const markdown = "[foo*]: /url\n\n*[foo*]\n";
    const expected_html = "<p>*<a href=\"/url\">foo*</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 565 from section "Links" (lines 8455-8462)
test "commonmark_spec_links_565" {
    const allocator = testing.allocator;
    const markdown = "[foo][bar]\n\n[foo]: /url1\n[bar]: /url2\n";
    const expected_html = "<p><a href=\"/url2\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 566 from section "Links" (lines 8464-8470)
test "commonmark_spec_links_566" {
    const allocator = testing.allocator;
    const markdown = "[foo][]\n\n[foo]: /url1\n";
    const expected_html = "<p><a href=\"/url1\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 567 from section "Links" (lines 8474-8480)
test "commonmark_spec_links_567" {
    const allocator = testing.allocator;
    const markdown = "[foo]()\n\n[foo]: /url1\n";
    const expected_html = "<p><a href=\"\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 568 from section "Links" (lines 8482-8488)
test "commonmark_spec_links_568" {
    const allocator = testing.allocator;
    const markdown = "[foo](not a link)\n\n[foo]: /url1\n";
    const expected_html = "<p><a href=\"/url1\">foo</a>(not a link)</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 569 from section "Links" (lines 8493-8499)
test "commonmark_spec_links_569" {
    const allocator = testing.allocator;
    const markdown = "[foo][bar][baz]\n\n[baz]: /url\n";
    const expected_html = "<p>[foo]<a href=\"/url\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 570 from section "Links" (lines 8505-8512)
test "commonmark_spec_links_570" {
    const allocator = testing.allocator;
    const markdown = "[foo][bar][baz]\n\n[baz]: /url1\n[bar]: /url2\n";
    const expected_html = "<p><a href=\"/url2\">foo</a><a href=\"/url1\">baz</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 571 from section "Links" (lines 8518-8525)
test "commonmark_spec_links_571" {
    const allocator = testing.allocator;
    const markdown = "[foo][bar][baz]\n\n[baz]: /url1\n[foo]: /url2\n";
    const expected_html = "<p>[foo]<a href=\"/url1\">bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 572 from section "Images" (lines 8541-8545)
test "commonmark_spec_images_572" {
    const allocator = testing.allocator;
    const markdown = "![foo](/url \"title\")\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 573 from section "Images" (lines 8548-8554)
test "commonmark_spec_images_573" {
    const allocator = testing.allocator;
    const markdown = "![foo *bar*]\n\n[foo *bar*]: train.jpg \"train & tracks\"\n";
    const expected_html = "<p><img src=\"train.jpg\" alt=\"foo bar\" title=\"train &amp; tracks\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 574 from section "Images" (lines 8557-8561)
test "commonmark_spec_images_574" {
    const allocator = testing.allocator;
    const markdown = "![foo ![bar](/url)](/url2)\n";
    const expected_html = "<p><img src=\"/url2\" alt=\"foo bar\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 575 from section "Images" (lines 8564-8568)
test "commonmark_spec_images_575" {
    const allocator = testing.allocator;
    const markdown = "![foo [bar](/url)](/url2)\n";
    const expected_html = "<p><img src=\"/url2\" alt=\"foo bar\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 576 from section "Images" (lines 8578-8584)
test "commonmark_spec_images_576" {
    const allocator = testing.allocator;
    const markdown = "![foo *bar*][]\n\n[foo *bar*]: train.jpg \"train & tracks\"\n";
    const expected_html = "<p><img src=\"train.jpg\" alt=\"foo bar\" title=\"train &amp; tracks\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 577 from section "Images" (lines 8587-8593)
test "commonmark_spec_images_577" {
    const allocator = testing.allocator;
    const markdown = "![foo *bar*][foobar]\n\n[FOOBAR]: train.jpg \"train & tracks\"\n";
    const expected_html = "<p><img src=\"train.jpg\" alt=\"foo bar\" title=\"train &amp; tracks\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 578 from section "Images" (lines 8596-8600)
test "commonmark_spec_images_578" {
    const allocator = testing.allocator;
    const markdown = "![foo](train.jpg)\n";
    const expected_html = "<p><img src=\"train.jpg\" alt=\"foo\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 579 from section "Images" (lines 8603-8607)
test "commonmark_spec_images_579" {
    const allocator = testing.allocator;
    const markdown = "My ![foo bar](/path/to/train.jpg  \"title\"   )\n";
    const expected_html = "<p>My <img src=\"/path/to/train.jpg\" alt=\"foo bar\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 580 from section "Images" (lines 8610-8614)
test "commonmark_spec_images_580" {
    const allocator = testing.allocator;
    const markdown = "![foo](<url>)\n";
    const expected_html = "<p><img src=\"url\" alt=\"foo\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 581 from section "Images" (lines 8617-8621)
test "commonmark_spec_images_581" {
    const allocator = testing.allocator;
    const markdown = "![](/url)\n";
    const expected_html = "<p><img src=\"/url\" alt=\"\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 582 from section "Images" (lines 8626-8632)
test "commonmark_spec_images_582" {
    const allocator = testing.allocator;
    const markdown = "![foo][bar]\n\n[bar]: /url\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 583 from section "Images" (lines 8635-8641)
test "commonmark_spec_images_583" {
    const allocator = testing.allocator;
    const markdown = "![foo][bar]\n\n[BAR]: /url\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 584 from section "Images" (lines 8646-8652)
test "commonmark_spec_images_584" {
    const allocator = testing.allocator;
    const markdown = "![foo][]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 585 from section "Images" (lines 8655-8661)
test "commonmark_spec_images_585" {
    const allocator = testing.allocator;
    const markdown = "![*foo* bar][]\n\n[*foo* bar]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo bar\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 586 from section "Images" (lines 8666-8672)
test "commonmark_spec_images_586" {
    const allocator = testing.allocator;
    const markdown = "![Foo][]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"Foo\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 587 from section "Images" (lines 8678-8686)
test "commonmark_spec_images_587" {
    const allocator = testing.allocator;
    const markdown = "![foo] \n[]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" title=\"title\" />\n[]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 588 from section "Images" (lines 8691-8697)
test "commonmark_spec_images_588" {
    const allocator = testing.allocator;
    const markdown = "![foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 589 from section "Images" (lines 8700-8706)
test "commonmark_spec_images_589" {
    const allocator = testing.allocator;
    const markdown = "![*foo* bar]\n\n[*foo* bar]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"foo bar\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 590 from section "Images" (lines 8711-8718)
test "commonmark_spec_images_590" {
    const allocator = testing.allocator;
    const markdown = "![[foo]]\n\n[[foo]]: /url \"title\"\n";
    const expected_html = "<p>![[foo]]</p>\n<p>[[foo]]: /url &quot;title&quot;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 591 from section "Images" (lines 8723-8729)
test "commonmark_spec_images_591" {
    const allocator = testing.allocator;
    const markdown = "![Foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p><img src=\"/url\" alt=\"Foo\" title=\"title\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 592 from section "Images" (lines 8735-8741)
test "commonmark_spec_images_592" {
    const allocator = testing.allocator;
    const markdown = "!\\[foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p>![foo]</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 593 from section "Images" (lines 8747-8753)
test "commonmark_spec_images_593" {
    const allocator = testing.allocator;
    const markdown = "\\![foo]\n\n[foo]: /url \"title\"\n";
    const expected_html = "<p>!<a href=\"/url\" title=\"title\">foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 594 from section "Autolinks" (lines 8780-8784)
test "commonmark_spec_autolinks_594" {
    const allocator = testing.allocator;
    const markdown = "<http://foo.bar.baz>\n";
    const expected_html = "<p><a href=\"http://foo.bar.baz\">http://foo.bar.baz</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 595 from section "Autolinks" (lines 8787-8791)
test "commonmark_spec_autolinks_595" {
    const allocator = testing.allocator;
    const markdown = "<https://foo.bar.baz/test?q=hello&id=22&boolean>\n";
    const expected_html = "<p><a href=\"https://foo.bar.baz/test?q=hello&amp;id=22&amp;boolean\">https://foo.bar.baz/test?q=hello&amp;id=22&amp;boolean</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 596 from section "Autolinks" (lines 8794-8798)
test "commonmark_spec_autolinks_596" {
    const allocator = testing.allocator;
    const markdown = "<irc://foo.bar:2233/baz>\n";
    const expected_html = "<p><a href=\"irc://foo.bar:2233/baz\">irc://foo.bar:2233/baz</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 597 from section "Autolinks" (lines 8803-8807)
test "commonmark_spec_autolinks_597" {
    const allocator = testing.allocator;
    const markdown = "<MAILTO:FOO@BAR.BAZ>\n";
    const expected_html = "<p><a href=\"MAILTO:FOO@BAR.BAZ\">MAILTO:FOO@BAR.BAZ</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 598 from section "Autolinks" (lines 8815-8819)
test "commonmark_spec_autolinks_598" {
    const allocator = testing.allocator;
    const markdown = "<a+b+c:d>\n";
    const expected_html = "<p><a href=\"a+b+c:d\">a+b+c:d</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 599 from section "Autolinks" (lines 8822-8826)
test "commonmark_spec_autolinks_599" {
    const allocator = testing.allocator;
    const markdown = "<made-up-scheme://foo,bar>\n";
    const expected_html = "<p><a href=\"made-up-scheme://foo,bar\">made-up-scheme://foo,bar</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 600 from section "Autolinks" (lines 8829-8833)
test "commonmark_spec_autolinks_600" {
    const allocator = testing.allocator;
    const markdown = "<https://../>\n";
    const expected_html = "<p><a href=\"https://../\">https://../</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 601 from section "Autolinks" (lines 8836-8840)
test "commonmark_spec_autolinks_601" {
    const allocator = testing.allocator;
    const markdown = "<localhost:5001/foo>\n";
    const expected_html = "<p><a href=\"localhost:5001/foo\">localhost:5001/foo</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 602 from section "Autolinks" (lines 8845-8849)
test "commonmark_spec_autolinks_602" {
    const allocator = testing.allocator;
    const markdown = "<https://foo.bar/baz bim>\n";
    const expected_html = "<p>&lt;https://foo.bar/baz bim&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 603 from section "Autolinks" (lines 8854-8858)
test "commonmark_spec_autolinks_603" {
    const allocator = testing.allocator;
    const markdown = "<https://example.com/\\[\\>\n";
    const expected_html = "<p><a href=\"https://example.com/%5C%5B%5C\">https://example.com/\\[\\</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 604 from section "Autolinks" (lines 8876-8880)
test "commonmark_spec_autolinks_604" {
    const allocator = testing.allocator;
    const markdown = "<foo@bar.example.com>\n";
    const expected_html = "<p><a href=\"mailto:foo@bar.example.com\">foo@bar.example.com</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 605 from section "Autolinks" (lines 8883-8887)
test "commonmark_spec_autolinks_605" {
    const allocator = testing.allocator;
    const markdown = "<foo+special@Bar.baz-bar0.com>\n";
    const expected_html = "<p><a href=\"mailto:foo+special@Bar.baz-bar0.com\">foo+special@Bar.baz-bar0.com</a></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 606 from section "Autolinks" (lines 8892-8896)
test "commonmark_spec_autolinks_606" {
    const allocator = testing.allocator;
    const markdown = "<foo\\+@bar.example.com>\n";
    const expected_html = "<p>&lt;foo+@bar.example.com&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 607 from section "Autolinks" (lines 8901-8905)
test "commonmark_spec_autolinks_607" {
    const allocator = testing.allocator;
    const markdown = "<>\n";
    const expected_html = "<p>&lt;&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 608 from section "Autolinks" (lines 8908-8912)
test "commonmark_spec_autolinks_608" {
    const allocator = testing.allocator;
    const markdown = "< https://foo.bar >\n";
    const expected_html = "<p>&lt; https://foo.bar &gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 609 from section "Autolinks" (lines 8915-8919)
test "commonmark_spec_autolinks_609" {
    const allocator = testing.allocator;
    const markdown = "<m:abc>\n";
    const expected_html = "<p>&lt;m:abc&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 610 from section "Autolinks" (lines 8922-8926)
test "commonmark_spec_autolinks_610" {
    const allocator = testing.allocator;
    const markdown = "<foo.bar.baz>\n";
    const expected_html = "<p>&lt;foo.bar.baz&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 611 from section "Autolinks" (lines 8929-8933)
test "commonmark_spec_autolinks_611" {
    const allocator = testing.allocator;
    const markdown = "https://example.com\n";
    const expected_html = "<p>https://example.com</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 612 from section "Autolinks" (lines 8936-8940)
test "commonmark_spec_autolinks_612" {
    const allocator = testing.allocator;
    const markdown = "foo@bar.example.com\n";
    const expected_html = "<p>foo@bar.example.com</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 613 from section "Raw HTML" (lines 9016-9020)
test "commonmark_spec_raw_html_613" {
    const allocator = testing.allocator;
    const markdown = "<a><bab><c2c>\n";
    const expected_html = "<p><a><bab><c2c></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 614 from section "Raw HTML" (lines 9025-9029)
test "commonmark_spec_raw_html_614" {
    const allocator = testing.allocator;
    const markdown = "<a/><b2/>\n";
    const expected_html = "<p><a/><b2/></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 615 from section "Raw HTML" (lines 9034-9040)
test "commonmark_spec_raw_html_615" {
    const allocator = testing.allocator;
    const markdown = "<a  /><b2\ndata=\"foo\" >\n";
    const expected_html = "<p><a  /><b2\ndata=\"foo\" ></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 616 from section "Raw HTML" (lines 9045-9051)
test "commonmark_spec_raw_html_616" {
    const allocator = testing.allocator;
    const markdown = "<a foo=\"bar\" bam = 'baz <em>\"</em>'\n_boolean zoop:33=zoop:33 />\n";
    const expected_html = "<p><a foo=\"bar\" bam = 'baz <em>\"</em>'\n_boolean zoop:33=zoop:33 /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 617 from section "Raw HTML" (lines 9056-9060)
test "commonmark_spec_raw_html_617" {
    const allocator = testing.allocator;
    const markdown = "Foo <responsive-image src=\"foo.jpg\" />\n";
    const expected_html = "<p>Foo <responsive-image src=\"foo.jpg\" /></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 618 from section "Raw HTML" (lines 9065-9069)
test "commonmark_spec_raw_html_618" {
    const allocator = testing.allocator;
    const markdown = "<33> <__>\n";
    const expected_html = "<p>&lt;33&gt; &lt;__&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 619 from section "Raw HTML" (lines 9074-9078)
test "commonmark_spec_raw_html_619" {
    const allocator = testing.allocator;
    const markdown = "<a h*#ref=\"hi\">\n";
    const expected_html = "<p>&lt;a h*#ref=&quot;hi&quot;&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 620 from section "Raw HTML" (lines 9083-9087)
test "commonmark_spec_raw_html_620" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"hi'> <a href=hi'>\n";
    const expected_html = "<p>&lt;a href=&quot;hi'&gt; &lt;a href=hi'&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 621 from section "Raw HTML" (lines 9092-9102)
test "commonmark_spec_raw_html_621" {
    const allocator = testing.allocator;
    const markdown = "< a><\nfoo><bar/ >\n<foo bar=baz\nbim!bop />\n";
    const expected_html = "<p>&lt; a&gt;&lt;\nfoo&gt;&lt;bar/ &gt;\n&lt;foo bar=baz\nbim!bop /&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 622 from section "Raw HTML" (lines 9107-9111)
test "commonmark_spec_raw_html_622" {
    const allocator = testing.allocator;
    const markdown = "<a href='bar'title=title>\n";
    const expected_html = "<p>&lt;a href='bar'title=title&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 623 from section "Raw HTML" (lines 9116-9120)
test "commonmark_spec_raw_html_623" {
    const allocator = testing.allocator;
    const markdown = "</a></foo >\n";
    const expected_html = "<p></a></foo ></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 624 from section "Raw HTML" (lines 9125-9129)
test "commonmark_spec_raw_html_624" {
    const allocator = testing.allocator;
    const markdown = "</a href=\"foo\">\n";
    const expected_html = "<p>&lt;/a href=&quot;foo&quot;&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 625 from section "Raw HTML" (lines 9134-9140)
test "commonmark_spec_raw_html_625" {
    const allocator = testing.allocator;
    const markdown = "foo <!-- this is a --\ncomment - with hyphens -->\n";
    const expected_html = "<p>foo <!-- this is a --\ncomment - with hyphens --></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 626 from section "Raw HTML" (lines 9142-9149)
test "commonmark_spec_raw_html_626" {
    const allocator = testing.allocator;
    const markdown = "foo <!--> foo -->\n\nfoo <!---> foo -->\n";
    const expected_html = "<p>foo <!--> foo --&gt;</p>\n<p>foo <!---> foo --&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 627 from section "Raw HTML" (lines 9154-9158)
test "commonmark_spec_raw_html_627" {
    const allocator = testing.allocator;
    const markdown = "foo <?php echo $a; ?>\n";
    const expected_html = "<p>foo <?php echo $a; ?></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 628 from section "Raw HTML" (lines 9163-9167)
test "commonmark_spec_raw_html_628" {
    const allocator = testing.allocator;
    const markdown = "foo <!ELEMENT br EMPTY>\n";
    const expected_html = "<p>foo <!ELEMENT br EMPTY></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 629 from section "Raw HTML" (lines 9172-9176)
test "commonmark_spec_raw_html_629" {
    const allocator = testing.allocator;
    const markdown = "foo <![CDATA[>&<]]>\n";
    const expected_html = "<p>foo <![CDATA[>&<]]></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 630 from section "Raw HTML" (lines 9182-9186)
test "commonmark_spec_raw_html_630" {
    const allocator = testing.allocator;
    const markdown = "foo <a href=\"&ouml;\">\n";
    const expected_html = "<p>foo <a href=\"&ouml;\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 631 from section "Raw HTML" (lines 9191-9195)
test "commonmark_spec_raw_html_631" {
    const allocator = testing.allocator;
    const markdown = "foo <a href=\"\\*\">\n";
    const expected_html = "<p>foo <a href=\"\\*\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 632 from section "Raw HTML" (lines 9198-9202)
test "commonmark_spec_raw_html_632" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"\\\"\">\n";
    const expected_html = "<p>&lt;a href=&quot;&quot;&quot;&gt;</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 633 from section "Hard line breaks" (lines 9212-9218)
test "commonmark_spec_hard_line_breaks_633" {
    const allocator = testing.allocator;
    const markdown = "foo  \nbaz\n";
    const expected_html = "<p>foo<br />\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 634 from section "Hard line breaks" (lines 9224-9230)
test "commonmark_spec_hard_line_breaks_634" {
    const allocator = testing.allocator;
    const markdown = "foo\\\nbaz\n";
    const expected_html = "<p>foo<br />\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 635 from section "Hard line breaks" (lines 9235-9241)
test "commonmark_spec_hard_line_breaks_635" {
    const allocator = testing.allocator;
    const markdown = "foo       \nbaz\n";
    const expected_html = "<p>foo<br />\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 636 from section "Hard line breaks" (lines 9246-9252)
test "commonmark_spec_hard_line_breaks_636" {
    const allocator = testing.allocator;
    const markdown = "foo  \n     bar\n";
    const expected_html = "<p>foo<br />\nbar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 637 from section "Hard line breaks" (lines 9255-9261)
test "commonmark_spec_hard_line_breaks_637" {
    const allocator = testing.allocator;
    const markdown = "foo\\\n     bar\n";
    const expected_html = "<p>foo<br />\nbar</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 638 from section "Hard line breaks" (lines 9267-9273)
test "commonmark_spec_hard_line_breaks_638" {
    const allocator = testing.allocator;
    const markdown = "*foo  \nbar*\n";
    const expected_html = "<p><em>foo<br />\nbar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 639 from section "Hard line breaks" (lines 9276-9282)
test "commonmark_spec_hard_line_breaks_639" {
    const allocator = testing.allocator;
    const markdown = "*foo\\\nbar*\n";
    const expected_html = "<p><em>foo<br />\nbar</em></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 640 from section "Hard line breaks" (lines 9287-9292)
test "commonmark_spec_hard_line_breaks_640" {
    const allocator = testing.allocator;
    const markdown = "`code  \nspan`\n";
    const expected_html = "<p><code>code   span</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 641 from section "Hard line breaks" (lines 9295-9300)
test "commonmark_spec_hard_line_breaks_641" {
    const allocator = testing.allocator;
    const markdown = "`code\\\nspan`\n";
    const expected_html = "<p><code>code\\ span</code></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 642 from section "Hard line breaks" (lines 9305-9311)
test "commonmark_spec_hard_line_breaks_642" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"foo  \nbar\">\n";
    const expected_html = "<p><a href=\"foo  \nbar\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 643 from section "Hard line breaks" (lines 9314-9320)
test "commonmark_spec_hard_line_breaks_643" {
    const allocator = testing.allocator;
    const markdown = "<a href=\"foo\\\nbar\">\n";
    const expected_html = "<p><a href=\"foo\\\nbar\"></p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 644 from section "Hard line breaks" (lines 9327-9331)
test "commonmark_spec_hard_line_breaks_644" {
    const allocator = testing.allocator;
    const markdown = "foo\\\n";
    const expected_html = "<p>foo\\</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 645 from section "Hard line breaks" (lines 9334-9338)
test "commonmark_spec_hard_line_breaks_645" {
    const allocator = testing.allocator;
    const markdown = "foo  \n";
    const expected_html = "<p>foo</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 646 from section "Hard line breaks" (lines 9341-9345)
test "commonmark_spec_hard_line_breaks_646" {
    const allocator = testing.allocator;
    const markdown = "### foo\\\n";
    const expected_html = "<h3>foo\\</h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 647 from section "Hard line breaks" (lines 9348-9352)
test "commonmark_spec_hard_line_breaks_647" {
    const allocator = testing.allocator;
    const markdown = "### foo  \n";
    const expected_html = "<h3>foo</h3>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 648 from section "Soft line breaks" (lines 9363-9369)
test "commonmark_spec_soft_line_breaks_648" {
    const allocator = testing.allocator;
    const markdown = "foo\nbaz\n";
    const expected_html = "<p>foo\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 649 from section "Soft line breaks" (lines 9375-9381)
test "commonmark_spec_soft_line_breaks_649" {
    const allocator = testing.allocator;
    const markdown = "foo \n baz\n";
    const expected_html = "<p>foo\nbaz</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 650 from section "Textual content" (lines 9395-9399)
test "commonmark_spec_textual_content_650" {
    const allocator = testing.allocator;
    const markdown = "hello $.;'there\n";
    const expected_html = "<p>hello $.;'there</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 651 from section "Textual content" (lines 9402-9406)
test "commonmark_spec_textual_content_651" {
    const allocator = testing.allocator;
    const markdown = "Foo χρῆν\n";
    const expected_html = "<p>Foo χρῆν</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

// Example 652 from section "Textual content" (lines 9411-9415)
test "commonmark_spec_textual_content_652" {
    const allocator = testing.allocator;
    const markdown = "Multiple     spaces\n";
    const expected_html = "<p>Multiple     spaces</p>\n";

    const actual_html = try parseMarkdownToHtml(allocator, markdown);
    defer allocator.free(actual_html);

    const normalized_expected = try normalizeHtml(allocator, expected_html);
    defer allocator.free(normalized_expected);

    const normalized_actual = try normalizeHtml(allocator, actual_html);
    defer allocator.free(normalized_actual);

    try testing.expectEqualStrings(normalized_expected, normalized_actual);
}

